import{b as kc,c as Pc,f as sp,g as Fc}from"./chunk-LJ5XHLMQ.js";import{a as P,b as j,d as Le,f as ip,g as op,h}from"./chunk-FK42CRUA.js";var dc=Le(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var uc=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lc.default=uc});var hc=Le(sr=>{"use strict";var eh=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});var VD=eh((Fc(),op(sp))),jD=eh(dc()),fc=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=VD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c;let u=null,l=null,d=null,p=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let M=yield o.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=M:l=JSON.parse(M))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,p=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let m=yield o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(l=[],u=null,p=200,f="OK")}catch{o.status===404&&m===""?(p=204,f="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,f="OK"),u&&this.shouldThrowOnError)throw new jD.default(u)}return{error:u,data:l,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};sr.default=fc});var gc=Le(ar=>{"use strict";var $D=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});var BD=$D(hc()),pc=class extends BD.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ar.default=pc});var vo=Le(cr=>{"use strict";var HD=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cr,"__esModule",{value:!0});var UD=HD(gc()),mc=class extends UD.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};cr.default=mc});var vc=Le(lr=>{"use strict";var GD=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});var ur=GD(vo()),yc=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ur.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ur.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new ur.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ur.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ur.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lr.default=yc});var th=Le(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.version=void 0;_o.version="0.0.0-automated"});var nh=Le(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.DEFAULT_HEADERS=void 0;var zD=th();Do.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zD.version}`}});var ih=Le(dr=>{"use strict";var rh=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dr,"__esModule",{value:!0});var qD=rh(vc()),WD=rh(vo()),ZD=nh(),_c=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},ZD.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){let n=new URL(`${this.url}/${t}`);return new qD.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(s="POST",c=n);let u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new WD.default({method:s,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};dr.default=_c});var dh=Le(Q=>{"use strict";var mn=Q&&Q.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q,"__esModule",{value:!0});Q.PostgrestError=Q.PostgrestBuilder=Q.PostgrestTransformBuilder=Q.PostgrestFilterBuilder=Q.PostgrestQueryBuilder=Q.PostgrestClient=void 0;var oh=mn(ih());Q.PostgrestClient=oh.default;var sh=mn(vc());Q.PostgrestQueryBuilder=sh.default;var ah=mn(vo());Q.PostgrestFilterBuilder=ah.default;var ch=mn(gc());Q.PostgrestTransformBuilder=ch.default;var uh=mn(hc());Q.PostgrestBuilder=uh.default;var lh=mn(dc());Q.PostgrestError=lh.default;Q.default={PostgrestClient:oh.default,PostgrestQueryBuilder:sh.default,PostgrestFilterBuilder:ah.default,PostgrestTransformBuilder:ch.default,PostgrestBuilder:uh.default,PostgrestError:lh.default}});function Lc(e,t){return Object.is(e,t)}var U=null,Sr=!1,xr=1,Ve=Symbol("SIGNAL");function S(e){let t=U;return U=e,t}function Vc(){return U}var xn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $o(e){if(Sr)throw new Error("");if(U===null)return;U.consumerOnSignalRead(e);let t=U.nextProducerIndex++;if(Or(U),t<U.producerNode.length&&U.producerNode[t]!==e&&Sn(U)){let n=U.producerNode[t];Nr(n,U.producerIndexOfThis[t])}U.producerNode[t]!==e&&(U.producerNode[t]=e,U.producerIndexOfThis[t]=Sn(U)?Hc(e,U,t):0),U.producerLastReadVersion[t]=e.version}function ap(){xr++}function jc(e){if(!(Sn(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===xr)){if(!e.producerMustRecompute(e)&&!Ho(e)){e.dirty=!1,e.lastCleanEpoch=xr;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=xr}}function $c(e){if(e.liveConsumerNode===void 0)return;let t=Sr;Sr=!0;try{for(let n of e.liveConsumerNode)n.dirty||cp(n)}finally{Sr=t}}function Bc(){return U?.consumerAllowSignalWrites!==!1}function cp(e){e.dirty=!0,$c(e),e.consumerMarkedDirty?.(e)}function Ar(e){return e&&(e.nextProducerIndex=0),S(e)}function Bo(e,t){if(S(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Sn(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Nr(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ho(e){Or(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(jc(n),r!==n.version))return!0}return!1}function Uo(e){if(Or(e),Sn(e))for(let t=0;t<e.producerNode.length;t++)Nr(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Hc(e,t,n){if(Uc(e),e.liveConsumerNode.length===0&&Gc(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Hc(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Nr(e,t){if(Uc(e),e.liveConsumerNode.length===1&&Gc(e))for(let r=0;r<e.producerNode.length;r++)Nr(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Or(i),i.producerIndexOfThis[r]=t}}function Sn(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Or(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Uc(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Gc(e){return e.producerNode!==void 0}function zc(e){let t=Object.create(up);t.computation=e;let n=()=>{if(jc(t),$o(t),t.value===Tr)throw t.error;return t.value};return n[Ve]=t,n}var Vo=Symbol("UNSET"),jo=Symbol("COMPUTING"),Tr=Symbol("ERRORED"),up=j(P({},xn),{value:Vo,dirty:!0,error:null,equal:Lc,producerMustRecompute(e){return e.value===Vo||e.value===jo},producerRecomputeValue(e){if(e.value===jo)throw new Error("Detected cycle in computations.");let t=e.value;e.value=jo;let n=Ar(e),r;try{r=e.computation()}catch(i){r=Tr,e.error=i}finally{Bo(e,n)}if(t!==Vo&&t!==Tr&&r!==Tr&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function lp(){throw new Error}var qc=lp;function Wc(){qc()}function Zc(e){qc=e}var dp=null;function Yc(e){let t=Object.create(Kc);t.value=e;let n=()=>($o(t),t.value);return n[Ve]=t,n}function Go(e,t){Bc()||Wc(),e.equal(e.value,t)||(e.value=t,fp(e))}function Qc(e,t){Bc()||Wc(),Go(e,t(e.value))}var Kc=j(P({},xn),{equal:Lc,value:void 0});function fp(e){e.version++,ap(),$c(e),dp?.()}function x(e){return typeof e=="function"}function Rr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kr=Rr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var J=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(o){t=o instanceof kr?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Jc(o)}catch(s){t=t??[],s instanceof kr?t=[...t,...s.errors]:t.push(s)}}if(t)throw new kr(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Jc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Tn(n,t)}remove(t){let{_finalizers:n}=this;n&&Tn(n,t),t instanceof e&&t._removeParent(this)}};J.EMPTY=(()=>{let e=new J;return e.closed=!0,e})();var zo=J.EMPTY;function Pr(e){return e instanceof J||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function Jc(e){x(e)?e():e.unsubscribe()}var me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Tt={setTimeout(e,t,...n){let{delegate:r}=Tt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Tt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fr(e){Tt.setTimeout(()=>{let{onUnhandledError:t}=me;if(t)t(e);else throw e})}function qo(){}var Xc=Wo("C",void 0,void 0);function eu(e){return Wo("E",void 0,e)}function tu(e){return Wo("N",e,void 0)}function Wo(e,t,n){return{kind:e,value:t,error:n}}var ot=null;function At(e){if(me.useDeprecatedSynchronousErrorHandling){let t=!ot;if(t&&(ot={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ot;if(ot=null,n)throw r}}else e()}function nu(e){me.useDeprecatedSynchronousErrorHandling&&ot&&(ot.errorThrown=!0,ot.error=e)}var st=class extends J{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Pr(t)&&t.add(this)):this.destination=gp}static create(t,n,r){return new Nt(t,n,r)}next(t){this.isStopped?Yo(tu(t),this):this._next(t)}error(t){this.isStopped?Yo(eu(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yo(Xc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hp=Function.prototype.bind;function Zo(e,t){return hp.call(e,t)}var Qo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Lr(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Lr(r)}else Lr(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Lr(n)}}},Nt=class extends st{constructor(t,n,r){super();let i;if(x(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&me.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Zo(t.next,o),error:t.error&&Zo(t.error,o),complete:t.complete&&Zo(t.complete,o)}):i=t}this.destination=new Qo(i)}};function Lr(e){me.useDeprecatedSynchronousErrorHandling?nu(e):Fr(e)}function pp(e){throw e}function Yo(e,t){let{onStoppedNotification:n}=me;n&&Tt.setTimeout(()=>n(e,t))}var gp={closed:!0,next:qo,error:pp,complete:qo};var Ot=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ru(e){return e}function iu(e){return e.length===0?ru:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yp(n)?n:new Nt(n,r,i);return At(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ou(r),new r((i,o)=>{let s=new Nt({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ot](){return this}pipe(...n){return iu(n)(this)}toPromise(n){return n=ou(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ou(e){var t;return(t=e??me.Promise)!==null&&t!==void 0?t:Promise}function mp(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}function yp(e){return e&&e instanceof st||mp(e)&&Pr(e)}function vp(e){return x(e?.lift)}function Rt(e){return t=>{if(vp(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(e,t,n,r,i){return new Ko(e,t,n,r,i)}var Ko=class extends st{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var su=Rr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new su}next(n){At(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){At(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){At(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zo:(this.currentObservers=null,o.push(n),new J(()=>{this.currentObservers=null,Tn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return e.create=(t,n)=>new Vr(t,n),e})(),Vr=class extends Ce{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:zo}};var An=class extends Ce{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function _p(e){return e[e.length-1]}function au(e){return x(_p(e))?e.pop():void 0}function uu(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function cu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(e){return this instanceof at?(this.v=e,this):new at(e)}function lu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(m){return new Promise(function(y,M){o.push([f,m,y,M])>1||c(f,m)})},g&&(i[f]=g(i[f])))}function c(f,g){try{u(r[f](g))}catch(m){p(o[0][3],m)}}function u(f){f.value instanceof at?Promise.resolve(f.value.v).then(l,d):p(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function du(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof cu=="function"?cu(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var jr=e=>e&&typeof e.length=="number"&&typeof e!="function";function $r(e){return x(e?.then)}function Br(e){return x(e[Ot])}function Hr(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function Ur(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gr=Dp();function zr(e){return x(e?.[Gr])}function qr(e){return lu(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield at(n.read());if(i)return yield at(void 0);yield yield at(r)}}finally{n.releaseLock()}})}function Wr(e){return x(e?.getReader)}function Ze(e){if(e instanceof q)return e;if(e!=null){if(Br(e))return wp(e);if(jr(e))return bp(e);if($r(e))return Cp(e);if(Hr(e))return fu(e);if(zr(e))return Ep(e);if(Wr(e))return Ip(e)}throw Ur(e)}function wp(e){return new q(t=>{let n=e[Ot]();if(x(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bp(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Cp(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Fr)})}function Ep(e){return new q(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function fu(e){return new q(t=>{Mp(e,t).catch(n=>t.error(n))})}function Ip(e){return fu(qr(e))}function Mp(e,t){var n,r,i,o;return uu(this,void 0,void 0,function*(){try{for(n=du(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ee(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Zr(e,t=0){return Rt((n,r)=>{n.subscribe(kt(r,i=>Ee(r,e,()=>r.next(i),t),()=>Ee(r,e,()=>r.complete(),t),i=>Ee(r,e,()=>r.error(i),t)))})}function Yr(e,t=0){return Rt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function hu(e,t){return Ze(e).pipe(Yr(t),Zr(t))}function pu(e,t){return Ze(e).pipe(Yr(t),Zr(t))}function gu(e,t){return new q(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function mu(e,t){return new q(n=>{let r;return Ee(n,t,()=>{r=e[Gr](),Ee(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function Qr(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{Ee(n,t,()=>{let r=e[Symbol.asyncIterator]();Ee(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yu(e,t){return Qr(qr(e),t)}function vu(e,t){if(e!=null){if(Br(e))return hu(e,t);if(jr(e))return gu(e,t);if($r(e))return pu(e,t);if(Hr(e))return Qr(e,t);if(zr(e))return mu(e,t);if(Wr(e))return yu(e,t)}throw Ur(e)}function Jo(e,t){return t?vu(e,t):Ze(e)}function ct(e,t){return Rt((n,r)=>{let i=0;n.subscribe(kt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Sp}=Array;function xp(e,t){return Sp(t)?e(...t):e(t)}function _u(e){return ct(t=>xp(e,t))}var{isArray:Tp}=Array,{getPrototypeOf:Ap,prototype:Np,keys:Op}=Object;function Du(e){if(e.length===1){let t=e[0];if(Tp(t))return{args:t,keys:null};if(Rp(t)){let n=Op(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Rp(e){return e&&typeof e=="object"&&Ap(e)===Np}function wu(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Xo(...e){let t=au(e),{args:n,keys:r}=Du(e),i=new q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Ze(n[l]).subscribe(kt(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?wu(r,a):a),o.complete())}))}});return t?i.pipe(_u(t)):i}var kp="https://g.co/ng/security#xss",D=class extends Error{constructor(t,n){super(Xs(t,n)),this.code=t}};function Xs(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function $n(e){return{toString:e}.toString()}var Kr="__parameters__";function Pp(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function al(e,t,n){return $n(()=>{let r=Pp(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Kr)?c[Kr]:Object.defineProperty(c,Kr,{value:[]})[Kr];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function O(e){for(let t in e)if(e[t]===O)return t;throw Error("Could not find renamed property on target object.")}function Fp(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ie(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(ie).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function bu(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Lp=O({__forward_ref__:O});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return ie(this())},e}function X(e){return cl(e)?e():e}function cl(e){return typeof e=="function"&&e.hasOwnProperty(Lp)&&e.__forward_ref__===Ne}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function en(e){return{providers:e.providers||[],imports:e.imports||[]}}function ea(e){return Cu(e,ul)||Cu(e,ll)}function Cu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Vp(e){let t=e&&(e[ul]||e[ll]);return t||null}function Eu(e){return e&&(e.hasOwnProperty(Iu)||e.hasOwnProperty(jp))?e[Iu]:null}var ul=O({\u0275prov:O}),Iu=O({\u0275inj:O}),ll=O({ngInjectableDef:O}),jp=O({ngInjectorDef:O}),I=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dl(e){return e&&!!e.\u0275providers}var $p=O({\u0275cmp:O}),Bp=O({\u0275dir:O}),Hp=O({\u0275pipe:O});var si=O({\u0275fac:O}),Rn=O({__NG_ELEMENT_ID__:O}),Mu=O({__NG_ENV_ID__:O});function ta(e){return typeof e=="string"?e:e==null?"":String(e)}function Up(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ta(e)}function Gp(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new D(-200,e)}function na(e,t){throw new D(-201,!1)}var b=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(b||{}),hs;function fl(){return hs}function Ie(e){let t=hs;return hs=e,t}function hl(e,t,n){let r=ea(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&b.Optional)return null;if(t!==void 0)return t;na(e,"Injector")}var zp={},kn=zp,ps="__NG_DI_FLAG__",ai="ngTempTokenPath",qp="ngTokenPath",Wp=/\n/gm,Zp="\u0275",Su="__source",jt;function Yp(){return jt}function Pt(e){let t=jt;return jt=e,t}function Qp(e,t=b.Default){if(jt===void 0)throw new D(-203,!1);return jt===null?hl(e,void 0,t):jt.get(e,t&b.Optional?null:void 0,t)}function N(e,t=b.Default){return(fl()||Qp)(X(e),t)}function T(e,t=b.Default){return N(e,Ai(t))}function Ai(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gs(e){let t=[];for(let n=0;n<e.length;n++){let r=X(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=b.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Kp(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function pl(e,t){return e[ps]=t,e.prototype[ps]=t,e}function Kp(e){return e[ps]}function Jp(e,t,n,r){let i=e[ai];throw t[Su]&&i.unshift(t[Su]),e.message=Xp(`
`+e.message,i,n,r),e[qp]=i,e[ai]=null,e}function Xp(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Zp?e.slice(2):e;let i=ie(t);if(Array.isArray(t))i=t.map(ie).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ie(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Wp,`
  `)}`}var gl=pl(al("Optional"),8);var eg=pl(al("SkipSelf"),4);function Bt(e,t){let n=e.hasOwnProperty(si);return n?e[si]:null}function ra(e,t){e.forEach(n=>Array.isArray(n)?ra(n,t):t(n))}function ml(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ci(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tg(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function ng(e,t,n){let r=Bn(e,t);return r>=0?e[r|1]=n:(r=~r,tg(e,r,t,n)),r}function es(e,t){let n=Bn(e,t);if(n>=0)return e[n|1]}function Bn(e,t){return rg(e,t,1)}function rg(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Ht={},ae=[],Pn=new I(""),yl=new I("",-1),vl=new I(""),ui=class{get(t,n=kn){if(n===kn){let r=new Error(`NullInjectorError: No provider for ${ie(t)}!`);throw r.name="NullInjectorError",r}return n}},_l=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(_l||{}),xe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xe||{}),Ke=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ke||{});function ig(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ms(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];sg(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function og(e){return e===3||e===4||e===6}function sg(e){return e.charCodeAt(0)===64}function Fn(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xu(e,n,i,null,t[++r]):xu(e,n,i,null,null))}}return e}function xu(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Dl="ng-template";function ag(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&ig(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ia(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ia(e){return e.type===4&&e.value!==Dl}function cg(e,t,n){let r=e.type===4&&!n?Dl:e.value;return t===r}function ug(e,t,n){let r=4,i=e.attrs,o=i!==null?fg(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ye(r)&&!ye(c))return!1;if(s&&ye(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!cg(e,c,n)||c===""&&t.length===1){if(ye(r))return!1;s=!0}}else if(r&8){if(i===null||!ag(e,i,c,n)){if(ye(r))return!1;s=!0}}else{let u=t[++a],l=lg(c,i,ia(e),n);if(l===-1){if(ye(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(ye(r))return!1;s=!0}}}}return ye(r)||s}function ye(e){return(e&1)===0}function lg(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hg(t,e)}function dg(e,t,n=!1){for(let r=0;r<t.length;r++)if(ug(e,t[r],n))return!0;return!1}function fg(e){for(let t=0;t<e.length;t++){let n=e[t];if(og(n))return t}return e.length}function hg(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Tu(e,t){return e?":not("+t.trim()+")":t}function pg(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ye(s)&&(t+=Tu(o,i),i=""),r=s,o=o||!ye(r);n++}return i!==""&&(t+=Tu(o,i)),t}function gg(e){return e.map(pg).join(",")}function mg(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!ye(i))break;i=o}r++}return{attrs:t,classes:n}}function Ni(e){return $n(()=>{let t=Cl(e),n=j(P({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===_l.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xe.Emulated,styles:e.styles||ae,_:null,schemas:e.schemas||null,tView:null,id:""});El(n);let r=e.dependencies;return n.directiveDefs=Nu(r,!1),n.pipeDefs=Nu(r,!0),n.id=Dg(n),n})}function yg(e){return Ut(e)||wl(e)}function vg(e){return e!==null}function tn(e){return $n(()=>({type:e.type,bootstrap:e.bootstrap||ae,declarations:e.declarations||ae,imports:e.imports||ae,exports:e.exports||ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Au(e,t){if(e==null)return Ht;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Ke.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ke.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Z(e){return $n(()=>{let t=Cl(e);return El(t),t})}function Ut(e){return e[$p]||null}function wl(e){return e[Bp]||null}function bl(e){return e[Hp]||null}function _g(e){let t=Ut(e)||wl(e)||bl(e);return t!==null?t.standalone:!1}function Cl(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ht,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ae,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Au(e.inputs,t),outputs:Au(e.outputs),debugInfo:null}}function El(e){e.features?.forEach(t=>t(e))}function Nu(e,t){if(!e)return null;let n=t?bl:yg;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(vg)}function Dg(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function wg(...e){return{\u0275providers:Il(!0,e),\u0275fromNgModule:!0}}function Il(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ra(t,s=>{let a=s;ys(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ml(i,o),n}function Ml(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];oa(i,o=>{t(o,r)})}}function ys(e,t,n,r){if(e=X(e),!e)return!1;let i=null,o=Eu(e),s=!o&&Ut(e);if(!o&&!s){let c=e.ngModule;if(o=Eu(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ys(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ra(o.imports,l=>{ys(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Ml(u,t)}if(!a){let u=Bt(i)||(()=>new i);t({provide:i,useFactory:u,deps:ae},i),t({provide:vl,useValue:i,multi:!0},i),t({provide:Pn,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;oa(c,l=>{t(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function oa(e,t){for(let n of e)dl(n)&&(n=n.\u0275providers),Array.isArray(n)?oa(n,t):t(n)}var bg=O({provide:String,useValue:O});function Sl(e){return e!==null&&typeof e=="object"&&bg in e}function Cg(e){return!!(e&&e.useExisting)}function Eg(e){return!!(e&&e.useFactory)}function Gt(e){return typeof e=="function"}function Ig(e){return!!e.useClass}var Oi=new I(""),ti={},Mg={},ts;function sa(){return ts===void 0&&(ts=new ui),ts}var Je=class{},li=class extends Je{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_s(t,s=>this.processProvider(s)),this.records.set(yl,Ft(void 0,this)),i.has("environment")&&this.records.set(Je,Ft(void 0,this));let o=this.records.get(Oi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vl,ae,b.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=S(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Pt(this),r=Ie(void 0),i;try{return t()}finally{Pt(n),Ie(r)}}get(t,n=kn,r=b.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Mu))return t[Mu](this);r=Ai(r);let i,o=Pt(this),s=Ie(void 0);try{if(!(r&b.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=Ng(t)&&ea(t);u&&this.injectableDefInScope(u)?c=Ft(vs(t),ti):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&b.Self?sa():this.parent;return n=r&b.Optional&&n===kn?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ai]=a[ai]||[]).unshift(ie(t)),o)throw a;return Jp(a,t,"R3InjectorError",this.source)}else throw a}finally{Ie(s),Pt(o)}}resolveInjectorInitializers(){let t=S(null),n=Pt(this),r=Ie(void 0),i;try{let o=this.get(Pn,ae,b.Self);for(let s of o)s()}finally{Pt(n),Ie(r),S(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ie(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(t){t=X(t);let n=Gt(t)?t:X(t&&t.provide),r=xg(t);if(!Gt(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ft(void 0,ti,!0),i.factory=()=>gs(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=S(null);try{return n.value===ti&&(n.value=Mg,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ag(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{S(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=X(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vs(e){let t=ea(e),n=t!==null?t.factory:Bt(e);if(n!==null)return n;if(e instanceof I)throw new D(204,!1);if(e instanceof Function)return Sg(e);throw new D(204,!1)}function Sg(e){if(e.length>0)throw new D(204,!1);let n=Vp(e);return n!==null?()=>n.factory(e):()=>new e}function xg(e){if(Sl(e))return Ft(void 0,e.useValue);{let t=xl(e);return Ft(t,ti)}}function xl(e,t,n){let r;if(Gt(e)){let i=X(e);return Bt(i)||vs(i)}else if(Sl(e))r=()=>X(e.useValue);else if(Eg(e))r=()=>e.useFactory(...gs(e.deps||[]));else if(Cg(e))r=()=>N(X(e.useExisting));else{let i=X(e&&(e.useClass||e.provide));if(Tg(e))r=()=>new i(...gs(e.deps));else return Bt(i)||vs(i)}return r}function Ft(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Tg(e){return!!e.deps}function Ag(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Ng(e){return typeof e=="function"||typeof e=="object"&&e instanceof I}function _s(e,t){for(let n of e)Array.isArray(n)?_s(n,t):n&&dl(n)?_s(n.\u0275providers,t):t(n)}function Og(){return fl()!==void 0||Yp()!=null}function Rg(e){return typeof e=="function"}var He=0,C=1,v=2,ee=3,ve=4,De=5,di=6,fi=7,_e=8,zt=9,je=10,G=11,Ln=12,Ou=13,nn=14,Te=15,qt=16,Lt=17,Wt=18,Ri=19,Tl=20,Ye=21,ns=22,ce=23,Xe=25,Al=1;var lt=7,hi=8,pi=9,ue=10,gi=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(gi||{});function Qe(e){return Array.isArray(e)&&typeof e[Al]=="object"}function Ue(e){return Array.isArray(e)&&e[Al]===!0}function Nl(e){return(e.flags&4)!==0}function ki(e){return e.componentOffset>-1}function aa(e){return(e.flags&1)===1}function et(e){return!!e.template}function Ds(e){return(e[v]&512)!==0}var ws=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ol(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Hn(){return Rl}function Rl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pg),kg}Hn.ngInherit=!0;function kg(){let e=Pl(this),t=e?.current;if(t){let n=e.previous;if(n===Ht)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Pg(e,t,n,r,i){let o=this.declaredInputs[r],s=Pl(e)||Fg(e,{previous:Ht,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new ws(u&&u.currentValue,n,c===Ht),Ol(e,t,i,n)}var kl="__ngSimpleChanges__";function Pl(e){return e[kl]||null}function Fg(e,t){return e[kl]=t}var Ru=null;var Me=function(e,t,n){Ru?.(e,t,n)},Lg="svg",Vg="math";function Ae(e){for(;Array.isArray(e);)e=e[He];return e}function Fl(e,t){return Ae(t[e])}function le(e,t){return Ae(t[e.index])}function Ll(e,t){return e.data[t]}function tt(e,t){let n=t[e];return Qe(n)?n:n[He]}function ca(e){return(e[v]&128)===128}function jg(e){return Ue(e[ee])}function mi(e,t){return t==null?null:e[t]}function Vl(e){e[Lt]=0}function jl(e){e[v]&1024||(e[v]|=1024,ca(e)&&Fi(e))}function $g(e,t){for(;e>0;)t=t[nn],e--;return t}function Pi(e){return!!(e[v]&9216||e[ce]?.dirty)}function bs(e){e[je].changeDetectionScheduler?.notify(8),e[v]&64&&(e[v]|=1024),Pi(e)&&Fi(e)}function Fi(e){e[je].changeDetectionScheduler?.notify(0);let t=dt(e);for(;t!==null&&!(t[v]&8192||(t[v]|=8192,!ca(t)));)t=dt(t)}function $l(e,t){if((e[v]&256)===256)throw new D(911,!1);e[Ye]===null&&(e[Ye]=[]),e[Ye].push(t)}function Bg(e,t){if(e[Ye]===null)return;let n=e[Ye].indexOf(t);n!==-1&&e[Ye].splice(n,1)}function dt(e){let t=e[ee];return Ue(t)?t[ee]:t}var E={lFrame:Yl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bl=!1;function Hg(){return E.lFrame.elementDepthCount}function Ug(){E.lFrame.elementDepthCount++}function Gg(){E.lFrame.elementDepthCount--}function Hl(){return E.bindingsEnabled}function zg(){return E.skipHydrationRootTNode!==null}function qg(e){return E.skipHydrationRootTNode===e}function Wg(){E.skipHydrationRootTNode=null}function F(){return E.lFrame.lView}function oe(){return E.lFrame.tView}function yt(e){return E.lFrame.contextLView=e,e[_e]}function vt(e){return E.lFrame.contextLView=null,e}function ne(){let e=Ul();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ul(){return E.lFrame.currentTNode}function Zg(){let e=E.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Un(e,t){let n=E.lFrame;n.currentTNode=e,n.isParent=t}function Gl(){return E.lFrame.isParent}function Yg(){E.lFrame.isParent=!1}function zl(){return Bl}function ku(e){Bl=e}function Qg(e){return E.lFrame.bindingIndex=e}function Li(){return E.lFrame.bindingIndex++}function Kg(e){let t=E.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Jg(){return E.lFrame.inI18n}function Xg(e,t){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=e,Cs(t)}function em(){return E.lFrame.currentDirectiveIndex}function Cs(e){E.lFrame.currentDirectiveIndex=e}function tm(e){let t=E.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function ql(e){E.lFrame.currentQueryIndex=e}function nm(e){let t=e[C];return t.type===2?t.declTNode:t.type===1?e[De]:null}function Wl(e,t,n){if(n&b.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&b.Host);)if(i=nm(o),i===null||(o=o[nn],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=E.lFrame=Zl();return r.currentTNode=t,r.lView=e,!0}function ua(e){let t=Zl(),n=e[C];E.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zl(){let e=E.lFrame,t=e===null?null:e.child;return t===null?Yl(e):t}function Yl(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ql(){let e=E.lFrame;return E.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Kl=Ql;function la(){let e=Ql();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function rm(e){return(E.lFrame.contextLView=$g(e,E.lFrame.contextLView))[_e]}function rn(){return E.lFrame.selectedIndex}function ft(e){E.lFrame.selectedIndex=e}function da(){let e=E.lFrame;return Ll(e.tView,e.selectedIndex)}function im(){return E.lFrame.currentNamespace}var Jl=!0;function fa(){return Jl}function ha(e){Jl=e}function om(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Rl(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function pa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function ni(e,t,n){Xl(e,t,3,n)}function ri(e,t,n,r){(e[v]&3)===n&&Xl(e,t,n,r)}function rs(e,t){let n=e[v];(n&3)===t&&(n&=16383,n+=1,e[v]=n)}function Xl(e,t,n,r){let i=r!==void 0?e[Lt]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Lt]+=65536),(a<o||o==-1)&&(sm(e,n,t,c),e[Lt]=(e[Lt]&4294901760)+c+2),c++}function Pu(e,t){Me(4,e,t);let n=S(null);try{t.call(e)}finally{S(n),Me(5,e,t)}}function sm(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[v]>>14<e[Lt]>>16&&(e[v]&3)===t&&(e[v]+=16384,Pu(a,o)):Pu(a,o)}var $t=-1,ht=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function am(e){return e instanceof ht}function cm(e){return(e.flags&8)!==0}function um(e){return(e.flags&16)!==0}var is={},Es=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ai(r);let i=this.injector.get(t,is,r);return i!==is||n===is?i:this.parentInjector.get(t,n,r)}};function ed(e){return e!==$t}function yi(e){return e&32767}function lm(e){return e>>16}function vi(e,t){let n=lm(e),r=t;for(;n>0;)r=r[nn],n--;return r}var Is=!0;function Fu(e){let t=Is;return Is=e,t}var dm=256,td=dm-1,nd=5,fm=0,Se={};function hm(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rn)&&(r=n[Rn]),r==null&&(r=n[Rn]=fm++);let i=r&td,o=1<<i;t.data[e+(i>>nd)]|=o}function _i(e,t){let n=rd(e,t);if(n!==-1)return n;let r=t[C];r.firstCreatePass&&(e.injectorIndex=t.length,os(r.data,e),os(t,null),os(r.blueprint,null));let i=ga(e,t),o=e.injectorIndex;if(ed(i)){let s=yi(i),a=vi(i,t),c=a[C].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function os(e,t){e.push(0,0,0,0,0,0,0,0,t)}function rd(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ga(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=cd(i),r===null)return $t;if(n++,i=i[nn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return $t}function Ms(e,t,n){hm(e,t,n)}function id(e,t,n){if(n&b.Optional||e!==void 0)return e;na(t,"NodeInjector")}function od(e,t,n,r){if(n&b.Optional&&r===void 0&&(r=null),!(n&(b.Self|b.Host))){let i=e[zt],o=Ie(void 0);try{return i?i.get(t,r,n&b.Optional):hl(t,r,n&b.Optional)}finally{Ie(o)}}return id(r,t,n)}function sd(e,t,n,r=b.Default,i){if(e!==null){if(t[v]&2048&&!(r&b.Self)){let s=vm(e,t,n,r,Se);if(s!==Se)return s}let o=ad(e,t,n,r,Se);if(o!==Se)return o}return od(t,n,r,i)}function ad(e,t,n,r,i){let o=mm(n);if(typeof o=="function"){if(!Wl(t,e,r))return r&b.Host?id(i,n,r):od(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&b.Optional))na(n);else return s}finally{Kl()}}else if(typeof o=="number"){let s=null,a=rd(e,t),c=$t,u=r&b.Host?t[Te][De]:null;for((a===-1||r&b.SkipSelf)&&(c=a===-1?ga(e,t):t[a+8],c===$t||!Vu(r,!1)?a=-1:(s=t[C],a=yi(c),t=vi(c,t)));a!==-1;){let l=t[C];if(Lu(o,a,l.data)){let d=pm(a,t,n,s,r,u);if(d!==Se)return d}c=t[a+8],c!==$t&&Vu(r,t[C].data[a+8]===u)&&Lu(o,a,t)?(s=l,a=yi(c),t=vi(c,t)):a=-1}}return i}function pm(e,t,n,r,i,o){let s=t[C],a=s.data[e+8],c=r==null?ki(a)&&Is:r!=s&&(a.type&3)!==0,u=i&b.Host&&o===a,l=gm(a,s,n,c,u);return l!==null?Zt(t,s,l,a):Se}function gm(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&et(f)&&f.type===n)return c}return null}function Zt(e,t,n,r){let i=e[n],o=t.data;if(am(i)){let s=i;s.resolving&&Gp(Up(o[n]));let a=Fu(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Ie(s.injectImpl):null,l=Wl(e,r,b.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&om(n,o[n],t)}finally{u!==null&&Ie(u),Fu(a),s.resolving=!1,Kl()}}return i}function mm(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Rn)?e[Rn]:void 0;return typeof t=="number"?t>=0?t&td:ym:t}function Lu(e,t,n){let r=1<<e;return!!(n[t+(e>>nd)]&r)}function Vu(e,t){return!(e&b.Self)&&!(e&b.Host&&t)}var ut=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return sd(this._tNode,this._lView,t,Ai(r),n)}};function ym(){return new ut(ne(),F())}function on(e){return $n(()=>{let t=e.prototype.constructor,n=t[si]||Ss(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[si]||Ss(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ss(e){return cl(e)?()=>{let t=Ss(X(e));return t&&t()}:Bt(e)}function vm(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[v]&2048&&!(s[v]&512);){let a=ad(o,s,n,r|b.Self,Se);if(a!==Se)return a;let c=o.parent;if(!c){let u=s[Tl];if(u){let l=u.get(n,Se,r);if(l!==Se)return l}c=cd(s),s=s[nn]}o=c}return i}function cd(e){let t=e[C],n=t.type;return n===2?t.declTNode:n===1?e[De]:null}function ju(e,t=null,n=null,r){let i=_m(e,t,n,r);return i.resolveInjectorInitializers(),i}function _m(e,t=null,n=null,r,i=new Set){let o=[n||ae,wg(e)];return r=r||(typeof e=="object"?void 0:ie(e)),new li(o,t||sa(),r||null,i)}var Yt=class e{static{this.THROW_IF_NOT_FOUND=kn}static{this.NULL=new ui}static create(t,n){if(Array.isArray(t))return ju({name:""},n,t,"");{let r=t.name??"";return ju({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=R({token:e,providedIn:"any",factory:()=>N(yl)})}static{this.__NG_ELEMENT_ID__=-1}};var Dm=new I("");Dm.__NG_ELEMENT_ID__=e=>{let t=ne();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&b.Optional)return null;throw new D(204,!1)};var wm="ngOriginalError";function ss(e){return e[wm]}var ud=!0,ld=(()=>{class e{static{this.__NG_ELEMENT_ID__=bm}static{this.__NG_ENV_ID__=n=>n}}return e})(),xs=class extends ld{constructor(t){super(),this._lView=t}onDestroy(t){return $l(this._lView,t),()=>Bg(this._lView,t)}};function bm(){return new xs(F())}var Vi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new An(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Ts=class extends Ce{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Og()&&(this.destroyRef=T(ld,{optional:!0})??void 0,this.pendingTasks=T(Vi,{optional:!0})??void 0)}emit(t){let n=S(null);try{super.next(t)}finally{S(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof J&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},te=Ts;function Di(...e){}function dd(e){let t,n;function r(){e=Di;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function $u(e){return queueMicrotask(()=>e()),()=>{e=Di}}var ma="isAngularZone",wi=ma+"_ID",Cm=0,W=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new te(!1),this.onMicrotaskEmpty=new te(!1),this.onStable=new te(!1),this.onError=new te(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ud}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Mm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ma)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Em,Di,Di);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Em={};function ya(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Im(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){dd(()=>{e.callbackScheduled=!1,As(e),e.isCheckStableRunning=!0,ya(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),As(e)}function Mm(e){let t=()=>{Im(e)},n=Cm++;e._inner=e._inner.fork({name:"angular",properties:{[ma]:!0,[wi]:n,[wi+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Sm(c))return r.invokeTask(o,s,a,c);try{return Bu(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Hu(e)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return Bu(e),r.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!xm(c)&&t(),Hu(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,As(e),ya(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function As(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Bu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Hu(e){e._nesting--,ya(e)}var Ns=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new te,this.onMicrotaskEmpty=new te,this.onStable=new te,this.onError=new te}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Sm(e){return fd(e,"__ignore_ng_zone__")}function xm(e){return fd(e,"__scheduler_tick__")}function fd(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var $e=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ss(t);for(;n&&ss(n);)n=ss(n);return n||null}},Tm=new I("",{providedIn:"root",factory:()=>{let e=T(W),t=T($e);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Am(){return ji(ne(),F())}function ji(e,t){return new sn(le(e,t))}var sn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Am}}return e})();function hd(e){return(e.flags&128)===128}var pd=new Map,Nm=0;function Om(){return Nm++}function Rm(e){pd.set(e[Ri],e)}function Os(e){pd.delete(e[Ri])}var Uu="__ngContext__";function pt(e,t){Qe(t)?(e[Uu]=t[Ri],Rm(t)):e[Uu]=t}function gd(e){return yd(e[Ln])}function md(e){return yd(e[ve])}function yd(e){for(;e!==null&&!Ue(e);)e=e[ve];return e}var Rs;function vd(e){Rs=e}function km(){if(Rs!==void 0)return Rs;if(typeof document<"u")return document;throw new D(210,!1)}var va=new I("",{providedIn:"root",factory:()=>Pm}),Pm="ng",_a=new I(""),an=new I("",{providedIn:"platform",factory:()=>"unknown"});var Da=new I("",{providedIn:"root",factory:()=>km().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fm="h",Lm="b";var Vm=()=>null;function wa(e,t,n=!1){return Vm(e,t,n)}var _d=!1,jm=new I("",{providedIn:"root",factory:()=>_d});var ks=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kp})`}};function ba(e){return e instanceof ks?e.changingThisBreaksApplicationSecurity:e}var Be=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Be||{}),$m;function Ca(e,t){return $m(e,t)}function Vt(e,t,n,r,i){if(r!=null){let o,s=!1;Ue(r)?o=r:Qe(r)&&(s=!0,r=r[He]);let a=Ae(r);e===0&&n!==null?i==null?Ed(t,n,a):bi(t,n,a,i||null,!0):e===1&&n!==null?bi(t,n,a,i||null,!0):e===2?ty(t,a,s):e===3&&t.destroyNode(a),o!=null&&ry(t,e,o,n,i)}}function Bm(e,t){return e.createText(t)}function Hm(e,t,n){e.setValue(t,n)}function Dd(e,t,n){return e.createElement(t,n)}function Um(e,t){wd(e,t),t[He]=null,t[De]=null}function Gm(e,t,n,r,i,o){r[He]=i,r[De]=t,$i(e,r,n,1,i,o)}function wd(e,t){t[je].changeDetectionScheduler?.notify(9),$i(e,t,t[G],2,null,null)}function zm(e){let t=e[Ln];if(!t)return as(e[C],e);for(;t;){let n=null;if(Qe(t))n=t[Ln];else{let r=t[ue];r&&(n=r)}if(!n){for(;t&&!t[ve]&&t!==e;)Qe(t)&&as(t[C],t),t=t[ee];t===null&&(t=e),Qe(t)&&as(t[C],t),n=t&&t[ve]}t=n}}function qm(e,t,n,r){let i=ue+r,o=n.length;r>0&&(n[i-1][ve]=t),r<o-ue?(t[ve]=n[i],ml(n,ue+r,t)):(n.push(t),t[ve]=null),t[ee]=n;let s=t[qt];s!==null&&n!==s&&bd(s,t);let a=t[Wt];a!==null&&a.insertView(e),bs(t),t[v]|=128}function bd(e,t){let n=e[pi],r=t[ee];if(Qe(r))e[v]|=gi.HasTransplantedViews;else{let i=r[ee][Te];t[Te]!==i&&(e[v]|=gi.HasTransplantedViews)}n===null?e[pi]=[t]:n.push(t)}function Ea(e,t){let n=e[pi],r=n.indexOf(t);n.splice(r,1)}function Ps(e,t){if(e.length<=ue)return;let n=ue+t,r=e[n];if(r){let i=r[qt];i!==null&&i!==e&&Ea(i,r),t>0&&(e[n-1][ve]=r[ve]);let o=ci(e,ue+t);Um(r[C],r);let s=o[Wt];s!==null&&s.detachView(o[C]),r[ee]=null,r[ve]=null,r[v]&=-129}return r}function Cd(e,t){if(!(t[v]&256)){let n=t[G];n.destroyNode&&$i(e,t,n,3,null,null),zm(t)}}function as(e,t){if(t[v]&256)return;let n=S(null);try{t[v]&=-129,t[v]|=256,t[ce]&&Uo(t[ce]),Zm(e,t),Wm(e,t),t[C].type===1&&t[G].destroy();let r=t[qt];if(r!==null&&Ue(t[ee])){r!==t[ee]&&Ea(r,t);let i=t[Wt];i!==null&&i.detachView(e)}Os(t)}finally{S(n)}}function Wm(e,t){let n=e.cleanup,r=t[fi];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[fi]=null);let i=t[Ye];if(i!==null){t[Ye]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Zm(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ht)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Me(4,a,c);try{c.call(a)}finally{Me(5,a,c)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function Ym(e,t,n){return Qm(e,t.parent,n)}function Qm(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[He];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===xe.None||o===xe.Emulated)return null}return le(r,n)}}function bi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ed(e,t,n){e.appendChild(t,n)}function Gu(e,t,n,r,i){r!==null?bi(e,t,n,r,i):Ed(e,t,n)}function Id(e,t){return e.parentNode(t)}function Km(e,t){return e.nextSibling(t)}function Jm(e,t,n){return ey(e,t,n)}function Xm(e,t,n){return e.type&40?le(e,n):null}var ey=Xm,zu;function Ia(e,t,n,r){let i=Ym(e,r,t),o=t[G],s=r.parent||t[De],a=Jm(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Gu(o,i,n[c],a,!1);else Gu(o,i,n,a,!1);zu!==void 0&&zu(o,r,t,n,i)}function Nn(e,t){if(t!==null){let n=t.type;if(n&3)return le(t,e);if(n&4)return Fs(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Nn(e,r);{let i=e[t.index];return Ue(i)?Fs(-1,i):Ae(i)}}else{if(n&128)return Nn(e,t.next);if(n&32)return Ca(t,e)()||Ae(e[t.index]);{let r=Md(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=dt(e[Te]);return Nn(i,r)}else return Nn(e,t.next)}}}return null}function Md(e,t){if(t!==null){let r=e[Te][De],i=t.projection;return r.projection[i]}return null}function Fs(e,t){let n=ue+e+1;if(n<t.length){let r=t[n],i=r[C].firstChild;if(i!==null)return Nn(r,i)}return t[lt]}function ty(e,t,n){e.removeChild(null,t,n)}function Ma(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&pt(Ae(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Ma(e,t,n.child,r,i,o,!1),Vt(t,e,i,a,o);else if(c&32){let u=Ca(n,r),l;for(;l=u();)Vt(t,e,i,l,o);Vt(t,e,i,a,o)}else c&16?ny(e,t,r,n,i,o):Vt(t,e,i,a,o);n=s?n.projectionNext:n.next}}function $i(e,t,n,r,i,o){Ma(n,r,e.firstChild,t,i,o,!1)}function ny(e,t,n,r,i,o){let s=n[Te],c=s[De].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Vt(t,e,i,l,o)}else{let u=c,l=s[ee];hd(r)&&(u.flags|=128),Ma(e,t,u,l,i,o,!0)}}function ry(e,t,n,r,i){let o=n[lt],s=Ae(n);o!==s&&Vt(t,e,r,o,i);for(let a=ue;a<n.length;a++){let c=n[a];$i(c[C],c,e,t,r,o)}}function iy(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Be.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Be.Important),e.setStyle(n,r,i,o))}}function oy(e,t,n){e.setAttribute(t,"style",n)}function Sd(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function xd(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ms(e,t,r),i!==null&&Sd(e,t,i),o!==null&&oy(e,t,o)}var cn={};function Oe(e=1){Td(oe(),F(),rn()+e,!1)}function Td(e,t,n,r){if(!r)if((t[v]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ni(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ri(t,o,0,n)}ft(n)}function A(e,t=b.Default){let n=F();if(n===null)return N(e,t);let r=ne();return sd(r,n,X(e),t)}function Ad(e,t,n,r,i,o){let s=S(null);try{let a=null;i&Ke.SignalBased&&(a=t[r][Ve]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ke.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):Ol(t,a,r,o)}finally{S(s)}}function sy(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ft(~i);else{let o=i,s=n[++r],a=n[++r];Xg(s,o);let c=t[o];a(2,c)}}}finally{ft(-1)}}function Bi(e,t,n,r,i,o,s,a,c,u,l){let d=t.blueprint.slice();return d[He]=i,d[v]=r|4|128|8|64,(u!==null||e&&e[v]&2048)&&(d[v]|=2048),Vl(d),d[ee]=d[nn]=e,d[_e]=n,d[je]=s||e&&e[je],d[G]=a||e&&e[G],d[zt]=c||e&&e[zt]||null,d[De]=o,d[Ri]=Om(),d[di]=l,d[Tl]=u,d[Te]=t.type==2?e[Te]:d,d}function Hi(e,t,n,r,i){let o=e.data[t];if(o===null)o=ay(e,t,n,r,i),Jg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Zg();o.injectorIndex=s===null?-1:s.injectorIndex}return Un(o,!0),o}function ay(e,t,n,r,i){let o=Ul(),s=Gl(),a=s?o:o&&o.parent,c=e.data[t]=fy(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Nd(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Od(e,t,n,r,i){let o=rn(),s=r&2;try{ft(-1),s&&t.length>Xe&&Td(e,t,Xe,!1),Me(s?2:0,i),n(r,i)}finally{ft(o),Me(s?3:1,i)}}function Rd(e,t,n){if(Nl(t)){let r=S(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{S(r)}}}function kd(e,t,n){Hl()&&(vy(e,t,n,le(n,t)),(n.flags&64)===64&&$d(e,t,n))}function Pd(e,t,n=le){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Fd(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Sa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sa(e,t,n,r,i,o,s,a,c,u,l){let d=Xe+r,p=d+i,f=cy(d,p),g=typeof u=="function"?u():u;return f[C]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function cy(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:cn);return n}function uy(e,t,n,r){let o=r.get(jm,_d)||n===xe.ShadowDom,s=e.selectRootElement(t,o);return ly(s),s}function ly(e){dy(e)}var dy=()=>null;function fy(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return zg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qu(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Ke.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?Wu(r,n,u,a,c):Wu(r,n,u,a)}return r}function Wu(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function hy(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],p=n?n.get(d):null,f=p?p.inputs:null,g=p?p.outputs:null;c=qu(0,d.inputs,l,c,f),u=qu(1,d.outputs,l,u,g);let m=c!==null&&s!==null&&!ia(t)?Ty(c,l,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}function py(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ld(e,t,n,r,i,o,s,a){let c=le(t,n),u=t.inputs,l;!a&&u!=null&&(l=u[r])?(xa(e,n,l,r,i),ki(t)&&gy(n,t.index)):t.type&3?(r=py(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function gy(e,t){let n=tt(t,e);n[v]&16||(n[v]|=64)}function Vd(e,t,n,r){if(Hl()){let i=r===null?null:{"":-1},o=Dy(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&jd(e,t,n,s,i,a),i&&wy(n,r,i)}n.mergedAttrs=Fn(n.mergedAttrs,n.attrs)}function jd(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Ms(_i(n,t),e,r[u].type);Cy(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Nd(e,t,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Fn(n.mergedAttrs,l.hostAttrs),Ey(e,n,t,c,l),by(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}hy(e,n,o)}function my(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;yy(s)!=a&&s.push(a),s.push(n,r,o)}}function yy(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function vy(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;ki(n)&&Iy(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||_i(n,t),pt(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],u=Zt(t,e,a,n);if(pt(u,t),s!==null&&xy(t,a-i,u,c,n,s),et(c)){let l=tt(n.index,t);l[_e]=Zt(t,e,a,n)}}}function $d(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=em();try{ft(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];Cs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_y(c,u)}}finally{ft(-1),Cs(s)}}function _y(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Dy(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(dg(t,s.selectors,!1))if(r||(r=[]),et(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ls(e,t,c)}else r.unshift(s),Ls(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ls(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function wy(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new D(-301,!1);r.push(t[i],o)}}}function by(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;et(t)&&(n[""]=e)}}function Cy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ey(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Bt(i.type,!0)),s=new ht(o,et(i),A);e.blueprint[r]=s,n[r]=s,my(e,t,r,Nd(e,n,i.hostVars,cn),i)}function Iy(e,t,n){let r=le(t,e),i=Fd(n),o=e[je].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ui(e,Bi(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function My(e,t,n,r,i,o){let s=le(e,t);Sy(t[G],s,o,e.value,n,r,i)}function Sy(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ta(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function xy(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];Ad(r,n,c,u,l,d)}}function Ty(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Bd(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Hd(e,t){let n=e.contentQueries;if(n!==null){let r=S(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];ql(o),a.contentQueries(2,t[s],s)}}}finally{S(r)}}}function Ui(e,t){return e[Ln]?e[Ou][ve]=t:e[Ln]=t,e[Ou]=t,t}function Vs(e,t,n){ql(0);let r=S(null);try{t(e,n)}finally{S(r)}}function Ay(e){return e[fi]??=[]}function Ny(e){return e.cleanup??=[]}function Ud(e,t){let n=e[zt],r=n?n.get($e,null):null;r&&r.handleError(t)}function xa(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=t[s],l=e.data[s];Ad(l,u,r,a,c,i)}}function Oy(e,t,n){let r=Fl(t,e);Hm(e[G],r,n)}function Ry(e,t){let n=tt(t,e),r=n[C];ky(r,n);let i=n[He];i!==null&&n[di]===null&&(n[di]=wa(i,n[zt])),Ta(r,n,n[_e])}function ky(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ta(e,t,n){ua(t);try{let r=e.viewQuery;r!==null&&Vs(1,r,n);let i=e.template;i!==null&&Od(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Wt]?.finishViewCreation(e),e.staticContentQueries&&Hd(e,t),e.staticViewQueries&&Vs(2,e.viewQuery,n);let o=e.components;o!==null&&Py(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[v]&=-5,la()}}function Py(e,t){for(let n=0;n<t.length;n++)Ry(e,t[n])}function Fy(e,t,n,r){let i=S(null);try{let o=t.tView,a=e[v]&4096?4096:16,c=Bi(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[qt]=u;let l=e[Wt];return l!==null&&(c[Wt]=l.createEmbeddedView(o)),Ta(o,c,n),c}finally{S(i)}}function Zu(e,t){return!t||t.firstChild===null||hd(e)}function Ly(e,t,n,r=!0){let i=t[C];if(qm(i,t,e,n),r){let s=Fs(n,e),a=t[G],c=Id(a,e[lt]);c!==null&&Gm(i,e[De],a,t,c,s)}let o=t[di];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ci(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ae(o)),Ue(o)&&Vy(o,r);let s=n.type;if(s&8)Ci(e,t,n.child,r);else if(s&32){let a=Ca(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Md(t,n);if(Array.isArray(a))r.push(...a);else{let c=dt(t[Te]);Ci(c[C],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Vy(e,t){for(let n=ue;n<e.length;n++){let r=e[n],i=r[C].firstChild;i!==null&&Ci(r[C],r,i,t)}e[lt]!==e[He]&&t.push(e[lt])}var Gd=[];function jy(e){return e[ce]??$y(e)}function $y(e){let t=Gd.pop()??Object.create(Hy);return t.lView=e,t}function By(e){e.lView[ce]!==e&&(e.lView=null,Gd.push(e))}var Hy=j(P({},xn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fi(e.lView)},consumerOnSignalRead(){this.lView[ce]=this}});function Uy(e){let t=e[ce]??Object.create(Gy);return t.lView=e,t}var Gy=j(P({},xn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=dt(e.lView);for(;t&&!zd(t[C]);)t=dt(t);t&&jl(t)},consumerOnSignalRead(){this.lView[ce]=this}});function zd(e){return e.type!==2}var zy=100;function qd(e,t=!0,n=0){let r=e[je],i=r.rendererFactory,o=!1;o||i.begin?.();try{qy(e,n)}catch(s){throw t&&Ud(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qy(e,t){let n=zl();try{ku(!0),js(e,t);let r=0;for(;Pi(e);){if(r===zy)throw new D(103,!1);r++,js(e,1)}}finally{ku(n)}}function Wy(e,t,n,r){let i=t[v];if((i&256)===256)return;let o=!1,s=!1;!o&&t[je].inlineEffectRunner?.flush(),ua(t);let a=!0,c=null,u=null;o||(zd(e)?(u=jy(t),c=Ar(u)):Vc()===null?(a=!1,u=Uy(t),c=Ar(u)):t[ce]&&(Uo(t[ce]),t[ce]=null));try{Vl(t),Qg(e.bindingStartIndex),n!==null&&Od(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=e.preOrderCheckHooks;f!==null&&ni(t,f,null)}else{let f=e.preOrderHooks;f!==null&&ri(t,f,0,null),rs(t,0)}if(s||Zy(t),Wd(t,0),e.contentQueries!==null&&Hd(e,t),!o)if(l){let f=e.contentCheckHooks;f!==null&&ni(t,f)}else{let f=e.contentHooks;f!==null&&ri(t,f,1),rs(t,1)}sy(e,t);let d=e.components;d!==null&&Yd(t,d,0);let p=e.viewQuery;if(p!==null&&Vs(2,p,r),!o)if(l){let f=e.viewCheckHooks;f!==null&&ni(t,f)}else{let f=e.viewHooks;f!==null&&ri(t,f,2),rs(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ns]){for(let f of t[ns])f();t[ns]=null}o||(t[v]&=-73)}catch(l){throw o||Fi(t),l}finally{u!==null&&(Bo(u,c),a&&By(u)),la()}}function Wd(e,t){for(let n=gd(e);n!==null;n=md(n))for(let r=ue;r<n.length;r++){let i=n[r];Zd(i,t)}}function Zy(e){for(let t=gd(e);t!==null;t=md(t)){if(!(t[v]&gi.HasTransplantedViews))continue;let n=t[pi];for(let r=0;r<n.length;r++){let i=n[r];jl(i)}}}function Yy(e,t,n){let r=tt(t,e);Zd(r,n)}function Zd(e,t){ca(e)&&js(e,t)}function js(e,t){let r=e[C],i=e[v],o=e[ce],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ho(o)),s||=!1,o&&(o.dirty=!1),e[v]&=-9217,s)Wy(r,e,r.template,e[_e]);else if(i&8192){Wd(e,1);let a=r.components;a!==null&&Yd(e,a,1)}}function Yd(e,t,n){for(let r=0;r<t.length;r++)Yy(e,t[r],n)}function Aa(e,t){let n=zl()?64:1088;for(e[je].changeDetectionScheduler?.notify(t);e;){e[v]|=n;let r=dt(e);if(Ds(e)&&!r)return e;e=r}return null}var gt=class{get rootNodes(){let t=this._lView,n=t[C];return Ci(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_e]}set context(t){this._lView[_e]=t}get destroyed(){return(this._lView[v]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ee];if(Ue(t)){let n=t[hi],r=n?n.indexOf(this):-1;r>-1&&(Ps(t,r),ci(n,r))}this._attachedToViewContainer=!1}Cd(this._lView[C],this._lView)}onDestroy(t){$l(this._lView,t)}markForCheck(){Aa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[v]&=-129}reattach(){bs(this._lView),this._lView[v]|=128}detectChanges(){this._lView[v]|=1024,qd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ds(this._lView),n=this._lView[qt];n!==null&&!t&&Ea(n,this._lView),wd(this._lView[C],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=Ds(this._lView),r=this._lView[qt];r!==null&&!n&&bd(r,this._lView),bs(this._lView)}},Gi=(()=>{class e{static{this.__NG_ELEMENT_ID__=Jy}}return e})(),Qy=Gi,Ky=class extends Qy{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=Fy(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new gt(i)}};function Jy(){return Xy(ne(),F())}function Xy(e,t){return e.type&4?new Ky(t,e,ji(e,t)):null}var VE=new RegExp(`^(\\d+)*(${Lm}|${Fm})*(.*)`);var ev=()=>null;function Yu(e,t){return ev(e,t)}var Qt=class{},Na=new I("",{providedIn:"root",factory:()=>!1});var Qd=new I(""),Kd=new I(""),$s=class{},Ei=class{};function tv(e){let t=Error(`No component factory found for ${ie(e)}.`);return t[nv]=e,t}var nv="ngComponent";var Bs=class{resolveComponentFactory(t){throw tv(t)}},Vn=class{static{this.NULL=new Bs}},Kt=class{},Gn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>rv()}}return e})();function rv(){let e=F(),t=ne(),n=tt(t.index,e);return(Qe(n)?n:e)[G]}var iv=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>null})}}return e})();function Hs(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=bu(i,a);else if(o==2){let c=a,u=t[++s];r=bu(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Us=class extends Vn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Ut(t);return new Ii(n,this.ngModule)}};function Qu(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ke.None;t?n.push({propName:s,templateName:r,isSignal:(a&Ke.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function ov(e){let t=e.toLowerCase();return t==="svg"?Lg:t==="math"?Vg:null}var Ii=class extends Ei{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Qu(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Qu(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=gg(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=S(null);try{i=i||this.ngModule;let s=i instanceof Je?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Es(t,s):t,c=a.get(Kt,null);if(c===null)throw new D(407,!1);let u=a.get(iv,null),l=a.get(Qt,null),d={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:l},p=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?uy(p,r,this.componentDef.encapsulation,a):Dd(p,f,ov(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=wa(g,a,!0));let M=Sa(0,null,null,1,0,null,null,null,null,null,null),V=Bi(null,M,null,m,null,null,d,p,a,null,y);ua(V);let H,L,K=null;try{let $=this.componentDef,xt,Lo=null;$.findHostDirectiveDefs?(xt=[],Lo=new Map,$.findHostDirectiveDefs($,xt,Lo),xt.push($)):xt=[$];let rp=sv(V,g);K=av(rp,g,$,xt,V,d,p),L=Ll(M,Xe),g&&lv(p,$,g,r),n!==void 0&&dv(L,this.ngContentSelectors,n),H=uv(K,$,xt,Lo,V,[fv]),Ta(M,V,null)}catch($){throw K!==null&&Os(K),Os(V),$}finally{la()}return new Gs(this.componentType,H,ji(L,V),V,L)}finally{S(o)}}},Gs=class extends $s{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gt(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;xa(o[C],o,i,t,n),this.previousInputValues.set(t,n);let s=tt(this._tNode.index,o);Aa(s,1)}}get injector(){return new ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function sv(e,t){let n=e[C],r=Xe;return e[r]=t,Hi(n,r,2,"#host",null)}function av(e,t,n,r,i,o,s){let a=i[C];cv(r,e,t,s);let c=null;t!==null&&(c=wa(t,i[zt]));let u=o.rendererFactory.createRenderer(t,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Bi(i,Fd(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&Ls(a,e,r.length-1),Ui(i,d),i[e.index]=d}function cv(e,t,n,r){for(let i of e)t.mergedAttrs=Fn(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Hs(t,t.mergedAttrs,!0),n!==null&&xd(r,n,t))}function uv(e,t,n,r,i,o){let s=ne(),a=i[C],c=le(s,i);jd(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,p=Zt(i,a,d,s);pt(p,i)}$d(a,i,s),c&&pt(c,i);let u=Zt(i,a,s.directiveStart+s.componentOffset,s);if(e[_e]=i[_e]=u,o!==null)for(let l of o)l(u,t);return Rd(a,s,i),u}function lv(e,t,n,r){if(r)ms(e,n,["ng-version","18.2.7"]);else{let{attrs:i,classes:o}=mg(t.selectors[0]);i&&ms(e,n,i),o&&o.length>0&&Sd(e,n,o.join(" "))}}function dv(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function fv(){let e=ne();pa(F()[C],e)}var zi=(()=>{class e{static{this.__NG_ELEMENT_ID__=hv}}return e})();function hv(){let e=ne();return gv(e,F())}var pv=zi,Jd=class extends pv{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ji(this._hostTNode,this._hostLView)}get injector(){return new ut(this._hostTNode,this._hostLView)}get parentInjector(){let t=ga(this._hostTNode,this._hostLView);if(ed(t)){let n=vi(t,this._hostLView),r=yi(t),i=n[C].data[r+8];return new ut(i,n)}else return new ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ku(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Yu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Zu(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!Rg(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?t:new Ii(Ut(t)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let m=(s?u:this.parentInjector).get(Je,null);m&&(o=m)}let l=Ut(c.componentType??{}),d=Yu(this._lContainer,l?.id??null),p=d?.firstChild??null,f=c.create(u,i,p,o);return this.insertImpl(f.hostView,a,Zu(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(jg(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[ee],u=new Jd(c,c[De],c[ee]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Ly(s,i,o,r),t.attachToViewContainerRef(),ml(cs(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ku(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ps(this._lContainer,n);r&&(ci(cs(this._lContainer),n),Cd(r[C],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ps(this._lContainer,n);return r&&ci(cs(this._lContainer),n)!=null?new gt(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ku(e){return e[hi]}function cs(e){return e[hi]||(e[hi]=[])}function gv(e,t){let n,r=t[e.index];return Ue(r)?n=r:(n=Bd(r,t,null,e),t[e.index]=n,Ui(t,n)),yv(n,t,e,r),new Jd(n,e,t)}function mv(e,t){let n=e[G],r=n.createComment(""),i=le(t,e),o=Id(n,i);return bi(n,o,r,Km(n,i),!1),r}var yv=Dv,vv=()=>!1;function _v(e,t,n){return vv(e,t,n)}function Dv(e,t,n,r){if(e[lt])return;let i;n.type&8?i=Ae(r):i=mv(t,n),e[lt]=i}var Ju=new Set;function qi(e){Ju.has(e)||(Ju.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function wv(e){return typeof e=="function"&&e[Ve]!==void 0}function we(e,t){qi("NgSignals");let n=Yc(e),r=n[Ve];return t?.equal&&(r.equal=t.equal),n.set=i=>Go(r,i),n.update=i=>Qc(r,i),n.asReadonly=bv.bind(n),n}function bv(){let e=this[Ve];if(e.readonlyFn===void 0){let t=()=>this();t[Ve]=e,e.readonlyFn=t}return e.readonlyFn}function Xd(e){return wv(e)&&typeof e.set=="function"}function Cv(e){return Object.getPrototypeOf(e.prototype).constructor}function de(e){let t=Cv(e.type),n=!0,r=[e];for(;t;){let i;if(et(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Jr(e.inputs),s.inputTransforms=Jr(e.inputTransforms),s.declaredInputs=Jr(e.declaredInputs),s.outputs=Jr(e.outputs);let a=i.hostBindings;a&&xv(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Mv(e,c),u&&Sv(e,u),Ev(e,i),Fp(e.outputs,i.outputs),et(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===de&&(n=!1)}}t=Object.getPrototypeOf(t)}Iv(r)}function Ev(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function Iv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Fn(i.hostAttrs,n=Fn(n,i.hostAttrs))}}function Jr(e){return e===Ht?{}:e===ae?[]:e}function Mv(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Sv(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function xv(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}var Jt=class{};var Mi=class extends Jt{constructor(t){super(),this.componentFactoryResolver=new Us(this),this.instance=null;let n=new li([...t.providers,{provide:Jt,useValue:this},{provide:Vn,useValue:this.componentFactoryResolver}],t.parent||sa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Tv(e,t,n=null){return new Mi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function ef(e){return Nv(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Av(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Nv(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function zn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Ov(e){return(e.flags&32)===32}function Rv(e,t,n,r,i,o,s,a,c){let u=t.consts,l=Hi(t,e,4,s||null,a||null);Vd(t,n,l,mi(u,c)),pa(t,l);let d=l.tView=Sa(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function kv(e,t,n,r,i,o,s,a,c,u){let l=n+Xe,d=t.firstCreatePass?Rv(l,t,e,r,i,o,s,a,c):t.data[l];Un(d,!1);let p=Pv(t,e,d,n);fa()&&Ia(t,e,p,d),pt(p,e);let f=Bd(p,e,p,d);return e[l]=f,Ui(e,f),_v(f,d,e),aa(d)&&kd(t,e,d),c!=null&&Pd(e,d,u),d}function un(e,t,n,r,i,o,s,a){let c=F(),u=oe(),l=mi(u.consts,o);return kv(c,u,e,t,n,r,i,l,s,a),un}var Pv=Fv;function Fv(e,t,n,r){return ha(!0),t[G].createComment("")}var On=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(On||{}),Lv=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Xu=class e{constructor(){this.ngZone=T(W),this.scheduler=T(Qt),this.errorHandler=T($e,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[On.EarlyRead,On.Write,On.MixedReadWrite,On.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}};function Wi(e,t,n,r){let i=F(),o=Li();if(zn(i,o,t)){let s=oe(),a=da();My(a,i,e,t,n,r)}return Wi}function Vv(e,t,n,r){return zn(e,Li(),n)?t+ta(n)+r:cn}function Xr(e,t){return e<<17|t<<2}function mt(e){return e>>17&32767}function jv(e){return(e&2)==2}function $v(e,t){return e&131071|t<<17}function zs(e){return e|2}function Xt(e){return(e&131068)>>2}function us(e,t){return e&-131069|t<<2}function Bv(e){return(e&1)===1}function qs(e){return e|1}function Hv(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=mt(s),c=Xt(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Bn(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=mt(e[a+1]);e[r+1]=Xr(p,a),p!==0&&(e[p+1]=us(e[p+1],r)),e[a+1]=$v(e[a+1],r)}else e[r+1]=Xr(a,0),a!==0&&(e[a+1]=us(e[a+1],r)),a=r;else e[r+1]=Xr(c,0),a===0?a=r:e[c+1]=us(e[c+1],r),c=r;u&&(e[r+1]=zs(e[r+1])),el(e,l,r,!0),el(e,l,r,!1),Uv(t,l,e,r,o),s=Xr(a,c),o?t.classBindings=s:t.styleBindings=s}function Uv(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Bn(o,t)>=0&&(n[r+1]=qs(n[r+1]))}function el(e,t,n,r){let i=e[n+1],o=t===null,s=r?mt(i):Xt(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];Gv(c,t)&&(a=!0,e[s+1]=r?qs(u):zs(u)),s=r?mt(u):Xt(u)}a&&(e[n+1]=r?zs(i):qs(i))}function Gv(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Bn(e,t)>=0:!1}function Re(e,t,n){let r=F(),i=Li();if(zn(r,i,t)){let o=oe(),s=da();Ld(o,s,r,e,t,r[G],n,!1)}return Re}function tl(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";xa(e,n,o[s],s,r)}function Zi(e,t){return zv(e,t,null,!0),Zi}function zv(e,t,n,r){let i=F(),o=oe(),s=Kg(2);if(o.firstUpdatePass&&Wv(o,e,s,r),t!==cn&&zn(i,s,t)){let a=o.data[rn()];Jv(o,a,i,i[G],e,i[s+1]=Xv(t,n),r,s)}}function qv(e,t){return t>=e.expandoStartIndex}function Wv(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[rn()],s=qv(e,n);e_(o,r)&&t===null&&!s&&(t=!1),t=Zv(i,o,t,r),Hv(i,o,t,n,s,r)}}function Zv(e,t,n,r){let i=tm(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=ls(null,e,t,n,r),n=jn(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=ls(i,e,t,n,r),o===null){let c=Yv(e,t,r);c!==void 0&&Array.isArray(c)&&(c=ls(null,e,t,c[1],r),c=jn(c,t.attrs,r),Qv(e,t,r,c))}else o=Kv(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Yv(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Xt(r)!==0)return e[mt(r)]}function Qv(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[mt(i)]=r}function Kv(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=jn(r,s,n)}return jn(r,t.attrs,n)}function ls(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=jn(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function jn(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ng(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Jv(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=Bv(u)?nl(c,t,n,i,Xt(u),s):void 0;if(!Si(l)){Si(o)||jv(u)&&(o=nl(c,null,n,i,a,s));let d=Fl(rn(),n);iy(r,s,d,i,o)}}function nl(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===cn&&(p=d?ae:void 0);let f=d?es(p,r):l===r?p:void 0;if(u&&!Si(f)&&(f=es(c,r)),Si(f)&&(a=f,s))return a;let g=e[i+1];i=s?mt(g):Xt(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=es(c,r))}return a}function Si(e){return e!==void 0}function Xv(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ie(ba(e)))),e}function e_(e,t){return(e.flags&(t?8:16))!==0}function t_(e,t,n,r,i,o){let s=t.consts,a=mi(s,i),c=Hi(t,e,2,r,a);return Vd(t,n,c,mi(s,o)),c.attrs!==null&&Hs(c,c.attrs,!1),c.mergedAttrs!==null&&Hs(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Y(e,t,n,r){let i=F(),o=oe(),s=Xe+e,a=i[G],c=o.firstCreatePass?t_(s,o,i,t,n,r):o.data[s],u=n_(o,i,c,a,t,e);i[s]=u;let l=aa(c);return Un(c,!0),xd(a,u,c),!Ov(c)&&fa()&&Ia(o,i,u,c),Hg()===0&&pt(u,i),Ug(),l&&(kd(o,i,c),Rd(o,c,i)),r!==null&&Pd(i,c),Y}function z(){let e=ne();Gl()?Yg():(e=e.parent,Un(e,!1));let t=e;qg(t)&&Wg(),Gg();let n=oe();return n.firstCreatePass&&(pa(n,e),Nl(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&cm(t)&&tl(n,t,F(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&um(t)&&tl(n,t,F(),t.stylesWithoutHost,!1),z}function Oa(e,t,n,r){return Y(e,t,n,r),z(),Oa}var n_=(e,t,n,r,i,o)=>(ha(!0),Dd(r,i,im()));function Yi(){return F()}var xi="en-US";var r_=xi;function i_(e){typeof e=="string"&&(r_=e.toLowerCase().replace(/_/g,"-"))}var o_=(e,t,n)=>{};function fe(e,t,n,r){let i=F(),o=oe(),s=ne();return tf(o,i,i[G],s,e,t,r),fe}function s_(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[fi],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function tf(e,t,n,r,i,o,s){let a=aa(r),u=e.firstCreatePass&&Ny(e),l=t[_e],d=Ay(t),p=!0;if(r.type&3||s){let m=le(r,t),y=s?s(m):m,M=d.length,V=s?L=>s(Ae(L[r.index])):r.index,H=null;if(!s&&a&&(H=s_(e,t,i,r.index)),H!==null){let L=H.__ngLastListenerFn__||H;L.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,p=!1}else{o=il(r,t,l,o),o_(m,i,o);let L=n.listen(y,i,o);d.push(o,L),u&&u.push(i,V,M,M+1)}}else o=il(r,t,l,o);let f=r.outputs,g;if(p&&f!==null&&(g=f[i])){let m=g.length;if(m)for(let y=0;y<m;y+=2){let M=g[y],V=g[y+1],K=t[M][V].subscribe(o),$=d.length;d.push(o,K),u&&u.push(i,r.index,$,-($+1))}}}function rl(e,t,n,r){let i=S(null);try{return Me(6,t,n),n(r)!==!1}catch(o){return Ud(e,o),!1}finally{Me(7,t,n),S(i)}}function il(e,t,n,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?tt(e.index,t):t;Aa(s,5);let a=rl(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=rl(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ke(e=1){return rm(e)}function he(e,t=""){let n=F(),r=oe(),i=e+Xe,o=r.firstCreatePass?Hi(r,i,1,t,null):r.data[i],s=a_(r,n,o,t,e);n[i]=s,fa()&&Ia(r,n,s,o),Un(o,!1)}var a_=(e,t,n,r,i)=>(ha(!0),Bm(t[G],r));function Ra(e){return nf("",e,""),Ra}function nf(e,t,n){let r=F(),i=Vv(r,e,t,n);return i!==cn&&Oy(r,rn(),i),nf}function ka(e,t,n){Xd(t)&&(t=t());let r=F(),i=Li();if(zn(r,i,t)){let o=oe(),s=da();Ld(o,s,r,e,t,r[G],n,!1)}return ka}function rf(e,t){let n=Xd(e);return n&&e.set(t),n}function Pa(e,t){let n=F(),r=oe(),i=ne();return tf(r,n,n[G],i,e,t),Pa}function c_(e,t,n){let r=oe();if(r.firstCreatePass){let i=et(e);Ws(n,r.data,r.blueprint,i,!0),Ws(t,r.data,r.blueprint,i,!1)}}function Ws(e,t,n,r,i){if(e=X(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ws(e[o],t,n,r,i);else{let o=oe(),s=F(),a=ne(),c=Gt(e)?e:X(e.provide),u=xl(e),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Gt(e)||!e.multi){let f=new ht(u,i,A),g=fs(c,t,i?l:l+p,d);g===-1?(Ms(_i(a,s),o,c),ds(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=fs(c,t,l+p,d),g=fs(c,t,l,l+p),m=f>=0&&n[f],y=g>=0&&n[g];if(i&&!y||!i&&!m){Ms(_i(a,s),o,c);let M=d_(i?l_:u_,n.length,i,r,u);!i&&y&&(n[g].providerFactory=M),ds(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=of(n[i?g:f],u,!i&&r);ds(o,e,f>-1?f:g,M)}!i&&r&&y&&n[g].componentProviders++}}}function ds(e,t,n,r){let i=Gt(t),o=Ig(t);if(i||o){let c=(o?X(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function of(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function fs(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function u_(e,t,n,r){return Zs(this.multi,[])}function l_(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zt(n,n[C],this.providerFactory.index,r);o=a.slice(0,s),Zs(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Zs(i,o);return o}function Zs(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function d_(e,t,n,r,i){let o=new ht(e,n,A);return o.multi=[],o.index=t,o.componentProviders=0,of(o,i,r&&!n),o}function nt(e,t=[]){return n=>{n.providersResolver=(r,i)=>c_(r,i?i(e):e,t)}}var f_=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Il(!1,n.type),i=r.length>0?Tv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(N(Je))})}}return e})();function Qi(e){qi("NgStandalone"),e.getStandaloneInjector=t=>t.get(f_).getOrCreateStandaloneInjector(e)}var sf=new I("");function qn(e){return!!e&&typeof e.then=="function"}function af(e){return!!e&&typeof e.subscribe=="function"}var h_=new I(""),cf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=T(h_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(qn(o))n.push(o);else if(af(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),p_=new I("");function g_(){Zc(()=>{throw new D(600,!1)})}function m_(e){return e.isBoundToModule}var y_=10;function v_(e,t,n){try{let r=n();return qn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Wn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(Tm),this.afterRenderManager=T(Lv),this.zonelessEnabled=T(Na),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ce,this.afterTick=new Ce,this.componentTypes=[],this.components=[],this.isStable=T(Vi).hasPendingTasks.pipe(ct(n=>!n)),this._injector=T(Je)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ei;if(!this._injector.get(cf).done){let p=!i&&_g(n),f=!1;throw new D(405,f)}let s;i?s=n:s=this._injector.get(Vn).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=m_(s)?void 0:this._injector.get(Jt),c=r||s.selector,u=s.create(Yt.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(sf,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),ii(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new D(101,!1);let n=S(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,S(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Kt,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<y_;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)__(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Pi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ii(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(p_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ii(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ii(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function __(e,t,n,r){if(!n&&!Pi(e))return;qd(e,t,n&&!r?0:1)}var D_=(()=>{class e{constructor(){this.zone=T(W),this.changeDetectionScheduler=T(Qt),this.applicationRef=T(Wn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function w_({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new W(j(P({},b_()),{scheduleInRootZone:n})),[{provide:W,useFactory:e},{provide:Pn,multi:!0,useFactory:()=>{let r=T(D_,{optional:!0});return()=>r.initialize()}},{provide:Pn,multi:!0,useFactory:()=>{let r=T(C_);return()=>{r.initialize()}}},t===!0?{provide:Qd,useValue:!0}:[],{provide:Kd,useValue:n??ud}]}function b_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var C_=(()=>{class e{constructor(){this.subscription=new J,this.initialized=!1,this.zone=T(W),this.pendingTasks=T(Vi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var E_=(()=>{class e{constructor(){this.appRef=T(Wn),this.taskService=T(Vi),this.ngZone=T(W),this.zonelessEnabled=T(Na),this.disableScheduling=T(Qd,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new J,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wi):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(Kd,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ns||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?$u:dd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$u(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function I_(){return typeof $localize<"u"&&$localize.locale||xi}var Fa=new I("",{providedIn:"root",factory:()=>T(Fa,b.Optional|b.SkipSelf)||I_()});var uf=new I("");function ei(e){return!!e.platformInjector}function M_(e){let t=ei(e)?e.r3Injector:e.moduleRef.injector,n=t.get(W);return n.run(()=>{ei(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get($e,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ei(e)){let o=()=>t.destroy(),s=e.platformInjector.get(uf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else e.moduleRef.onDestroy(()=>{ii(e.allPlatformModules,e.moduleRef),i.unsubscribe()});return v_(r,n,()=>{let o=t.get(cf);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Fa,xi);if(i_(s||xi),ei(e)){let a=t.get(Wn);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return S_(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function S_(e,t){let n=e.injector.get(Wn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new D(-403,!1);t.push(e)}var oi=null;function x_(e=[],t){return Yt.create({name:t,providers:[{provide:Oi,useValue:"platform"},{provide:uf,useValue:new Set([()=>oi=null])},...e]})}function T_(e=[]){if(oi)return oi;let t=x_(e);return oi=t,g_(),A_(t),t}function A_(e){e.get(_a,null)?.forEach(n=>n())}var Ki=(()=>{class e{static{this.__NG_ELEMENT_ID__=N_}}return e})();function N_(e){return O_(ne(),F(),(e&16)===16)}function O_(e,t,n){if(ki(e)&&!n){let r=tt(e.index,t);return new gt(r,r)}else if(e.type&175){let r=t[Te];return new gt(r,t)}return null}var Ys=class{constructor(){}supports(t){return ef(t)}create(t){return new Qs(t)}},R_=(e,t)=>t,Qs=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||R_}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ol(r,i,o)?n:r,a=ol(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;l<=g&&g<u&&(o[p]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!ef(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Av(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Ks(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ti),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ti),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ks=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Js=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ti=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Js,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ol(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function sl(){return new La([new Ys])}var La=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:sl})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||sl()),deps:[[e,new eg,new gl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new D(901,!1)}}return e})();function lf(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=T_(r),o=[w_({}),{provide:Qt,useExisting:E_},...n||[]],s=new Mi({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return M_({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function Ji(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Zn(e,t){qi("NgSignals");let n=zc(e);return t?.equal&&(n[Ve].equal=t.equal),n}function Ge(e){let t=S(null);try{return e()}finally{S(t)}}var pf=null;function dn(){return pf}function gf(e){pf??=e}var Xi=class{};var rt=new I("");function mf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Va=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yf=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Va(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),df(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);df(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(zi),A(Gi),A(La))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function df(e,t){e.context.$implicit=t.item}var vf=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new ja,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ff("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ff("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(zi),A(Gi))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),ja=class{constructor(){this.$implicit=null,this.ngIf=null}};function ff(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${ie(t)}'.`)}var $a=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=tn({type:e})}static{this.\u0275inj=en({})}}return e})(),_f="browser",k_="server";function Ba(e){return e===k_}var eo=class{};var Ga=class extends Xi{constructor(){super(...arguments),this.supportsDOMEvents=!0}},za=class e extends Ga{static makeCurrent(){gf(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=L_();return n==null?null:V_(n)}resetBaseElement(){Yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return mf(document.cookie,t)}},Yn=null;function L_(){return Yn=Yn||document.querySelector("base"),Yn?Yn.getAttribute("href"):null}function V_(e){return new URL(e,document.baseURI).pathname}var j_=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),qa=new I(""),Cf=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(N(qa),N(W))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),to=class{constructor(t){this._doc=t}},Ha="ng-app-id",Ef=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ba(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ha}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ha),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ha,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(N(rt),N(va),N(Da,8),N(an))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Za=/%COMP%/g,If="%COMP%",$_=`_nghost-${If}`,B_=`_ngcontent-${If}`,H_=!0,U_=new I("",{providedIn:"root",factory:()=>H_});function G_(e){return B_.replace(Za,e)}function z_(e){return $_.replace(Za,e)}function Mf(e,t){return t.map(n=>n.replace(Za,e))}var Df=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ba(a),this.defaultRenderer=new Qn(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xe.ShadowDom&&(r=j(P({},r),{encapsulation:xe.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof no?i.applyToHost(n):i instanceof Kn&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case xe.Emulated:o=new no(c,u,r,this.appId,l,s,a,d);break;case xe.ShadowDom:return new Wa(c,u,n,r,s,a,this.nonce,d);default:o=new Kn(c,u,r,l,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(N(Cf),N(Ef),N(va),N(U_),N(rt),N(an),N(W),N(Da))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Qn=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Ua[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(wf(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(wf(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Ua[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Ua[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Be.DashCase|Be.Important)?t.style.setProperty(n,r,i&Be.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Be.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=dn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function wf(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Wa=class extends Qn{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Mf(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kn=class extends Qn{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Mf(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},no=class extends Kn{constructor(t,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=G_(u),this.hostAttr=z_(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},q_=(()=>{class e extends to{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(N(rt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),bf=["alt","control","meta","shift"],W_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z_={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Y_=(()=>{class e extends to{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bf.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=W_[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bf.forEach(s=>{if(s!==i){let a=Z_[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(N(rt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function Sf(e,t){return lf(P({rootComponent:e},Q_(t)))}function Q_(e){return{appProviders:[...tD,...e?.providers??[]],platformProviders:eD}}function K_(){za.makeCurrent()}function J_(){return new $e}function X_(){return vd(document),document}var eD=[{provide:an,useValue:_f},{provide:_a,useValue:K_,multi:!0},{provide:rt,useFactory:X_,deps:[]}];var tD=[{provide:Oi,useValue:"root"},{provide:$e,useFactory:J_,deps:[]},{provide:qa,useClass:q_,multi:!0,deps:[rt,W,an]},{provide:qa,useClass:Y_,multi:!0,deps:[rt]},Df,Ef,Cf,{provide:Kt,useExisting:Df},{provide:eo,useClass:j_,deps:[]},[]];var Ff=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(A(Gn),A(sn))}}static{this.\u0275dir=Z({type:e})}}return e})(),Ka=(()=>{class e extends Ff{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=on(e)))(i||e)}})()}static{this.\u0275dir=Z({type:e,features:[de]})}}return e})(),lo=new I(""),nD={provide:lo,useExisting:Ne(()=>Ja),multi:!0},Ja=(()=>{class e extends Ka{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=on(e)))(i||e)}})()}static{this.\u0275dir=Z({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[nt([nD]),de]})}}return e})(),rD={provide:lo,useExisting:Ne(()=>fo),multi:!0};function iD(){let e=dn()?dn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var oD=new I(""),fo=(()=>{class e extends Ff{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!iD())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(A(Gn),A(sn),A(oD,8))}}static{this.\u0275dir=Z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nt([rD]),de]})}}return e})();function Ya(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var ho=new I(""),Lf=new I("");function sD(e){return t=>{if(Ya(t.value)||Ya(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function aD(e){return Ya(e.value)?{required:!0}:null}function xf(e){return null}function Vf(e){return e!=null}function jf(e){return qn(e)?Jo(e):e}function $f(e){let t={};return e.forEach(n=>{t=n!=null?P(P({},t),n):t}),Object.keys(t).length===0?null:t}function Bf(e,t){return t.map(n=>n(e))}function cD(e){return!e.validate}function Hf(e){return e.map(t=>cD(t)?t:n=>t.validate(n))}function uD(e){if(!e)return null;let t=e.filter(Vf);return t.length==0?null:function(n){return $f(Bf(n,t))}}function Xa(e){return e!=null?uD(Hf(e)):null}function lD(e){if(!e)return null;let t=e.filter(Vf);return t.length==0?null:function(n){let r=Bf(n,t).map(jf);return Xo(r).pipe(ct($f))}}function ec(e){return e!=null?lD(Hf(e)):null}function Tf(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function dD(e){return e._rawValidators}function fD(e){return e._rawAsyncValidators}function Qa(e){return e?Array.isArray(e)?e:[e]:[]}function io(e,t){return Array.isArray(e)?e.includes(t):e===t}function Af(e,t){let n=Qa(t);return Qa(e).forEach(i=>{io(n,i)||n.push(i)}),n}function Nf(e,t){return Qa(t).filter(n=>!io(e,n))}var oo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xa(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ec(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},pn=class extends oo{get formDirective(){return null}get path(){return null}},rr=class extends oo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},so=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sI=j(P({},hD),{"[class.ng-submitted]":"isSubmitted"}),Uf=(()=>{class e extends so{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(A(rr,2))}}static{this.\u0275dir=Z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Zi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[de]})}}return e})(),Gf=(()=>{class e extends so{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(A(pn,10))}}static{this.\u0275dir=Z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Zi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[de]})}}return e})();var Jn="VALID",ro="INVALID",fn="PENDING",Xn="DISABLED",gn=class{},ao=class extends gn{constructor(t,n){super(),this.value=t,this.source=n}},tr=class extends gn{constructor(t,n){super(),this.pristine=t,this.source=n}},nr=class extends gn{constructor(t,n){super(),this.touched=t,this.source=n}},hn=class extends gn{constructor(t,n){super(),this.status=t,this.source=n}};function zf(e){return(po(e)?e.validators:e)||null}function pD(e){return Array.isArray(e)?Xa(e):e||null}function qf(e,t){return(po(t)?t.asyncValidators:e)||null}function gD(e){return Array.isArray(e)?ec(e):e||null}function po(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function mD(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function yD(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new D(1002,"")})}var co=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Zn(()=>this.statusReactive()),this.statusReactive=we(void 0),this._pristine=Zn(()=>this.pristineReactive()),this.pristineReactive=we(!0),this._touched=Zn(()=>this.touchedReactive()),this.touchedReactive=we(!1),this._events=new Ce,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ge(this.statusReactive)}set status(t){Ge(()=>this.statusReactive.set(t))}get valid(){return this.status===Jn}get invalid(){return this.status===ro}get pending(){return this.status==fn}get disabled(){return this.status===Xn}get enabled(){return this.status!==Xn}get pristine(){return Ge(this.pristineReactive)}set pristine(t){Ge(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Ge(this.touchedReactive)}set touched(t){Ge(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Af(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Af(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nf(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nf(t,this._rawAsyncValidators))}hasValidator(t){return io(this._rawValidators,t)}hasAsyncValidator(t){return io(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(j(P({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new nr(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new nr(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(j(P({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new tr(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new tr(!0,r))}markAsPending(t={}){this.status=fn;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new hn(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(j(P({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Xn,this.errors=null,this._forEachChild(i=>{i.disable(j(P({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ao(this.value,r)),this._events.next(new hn(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(P({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Jn,this._forEachChild(r=>{r.enable(j(P({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(j(P({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jn||this.status===fn)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ao(this.value,n)),this._events.next(new hn(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(j(P({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xn:Jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=fn,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=jf(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new hn(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new te,this.statusChanges=new te}_calculateStatus(){return this._allControlsDisabled()?Xn:this.errors?ro:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fn)?fn:this._anyControlsHaveStatus(ro)?ro:Jn}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new tr(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new nr(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){po(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pD(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=gD(this._rawAsyncValidators)}},uo=class extends co{constructor(t,n,r){super(zf(n),qf(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){yD(this,!0,t),Object.keys(t).forEach(r=>{mD(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var tc=new I("CallSetDisabledState",{providedIn:"root",factory:()=>nc}),nc="always";function vD(e,t){return[...t.path,e]}function Wf(e,t,n=nc){Zf(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),DD(e,t),bD(e,t),wD(e,t),_D(e,t)}function Of(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function _D(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Zf(e,t){let n=dD(e);t.validator!==null?e.setValidators(Tf(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=fD(e);t.asyncValidator!==null?e.setAsyncValidators(Tf(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Of(t._rawValidators,i),Of(t._rawAsyncValidators,i)}function DD(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Yf(e,t)})}function wD(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Yf(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Yf(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function bD(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function CD(e,t){e==null,Zf(e,t)}function ED(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function ID(e){return Object.getPrototypeOf(e.constructor)===Ka}function MD(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function SD(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===fo?n=o:ID(o)?r=o:i=o}),i||r||n||null}var xD={provide:pn,useExisting:Ne(()=>rc)},er=Promise.resolve(),rc=(()=>{class e extends pn{get submitted(){return Ge(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Zn(()=>this.submittedReactive()),this.submittedReactive=we(!1),this._directives=new Set,this.ngSubmit=new te,this.form=new uo({},Xa(n),ec(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){er.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Wf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){er.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){er.then(()=>{let r=this._findContainer(n.path),i=new uo({});CD(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){er.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){er.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),MD(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(A(ho,10),A(Lf,10),A(tc,8))}}static{this.\u0275dir=Z({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([xD]),de]})}}return e})();function Rf(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function kf(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var TD=class extends co{constructor(t=null,n,r){super(zf(n),qf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),po(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kf(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){kf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var AD={provide:rr,useExisting:Ne(()=>ic)},Pf=Promise.resolve(),ic=(()=>{class e extends rr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new TD,this._registered=!1,this.name="",this.update=new te,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=SD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ED(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Wf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Pf.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ji(r);Pf.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?vD(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(A(pn,9),A(ho,10),A(Lf,10),A(lo,10),A(Ki,8),A(tc,8))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([AD]),de,Hn]})}}return e})(),Qf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),ND={provide:lo,useExisting:Ne(()=>oc),multi:!0},oc=(()=>{class e extends Ka{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=on(e)))(i||e)}})()}static{this.\u0275dir=Z({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[nt([ND]),de]})}}return e})();function OD(e){return typeof e=="number"?e:parseFloat(e)}var Kf=(()=>{class e{constructor(){this._validator=xf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Z({type:e,features:[Hn]})}}return e})();var RD={provide:ho,useExisting:Ne(()=>sc),multi:!0},sc=(()=>{class e extends Kf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>OD(n),this.createValidator=n=>sD(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=on(e)))(i||e)}})()}static{this.\u0275dir=Z({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Wi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[nt([RD]),de]})}}return e})(),kD={provide:ho,useExisting:Ne(()=>ac),multi:!0};var ac=(()=>{class e extends Kf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ji,this.createValidator=n=>aD}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=on(e)))(i||e)}})()}static{this.\u0275dir=Z({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Wi("required",i._enabled?"":null)},inputs:{required:"required"},features:[nt([kD]),de]})}}return e})();var PD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=tn({type:e})}static{this.\u0275inj=en({})}}return e})();var Jf=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:tc,useValue:n.callSetDisabledState??nc}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=tn({type:e})}static{this.\u0275inj=en({imports:[PD]})}}return e})();var Xf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var ir=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},go=class extends ir{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},mo=class extends ir{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},yo=class extends ir{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},cc=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(cc||{});var LD=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},or=class{constructor(t,{headers:n={},customFetch:r,region:i=cc.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Xf(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return LD(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=n,a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(g=>{throw new go(g)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new mo(l);if(!l.ok)throw new yo(l);let p=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield l.json():p==="application/octet-stream"?f=yield l.blob():p==="text/event-stream"?f=l:p==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var fh=ip(dh(),1),{PostgrestClient:hh,PostgrestQueryBuilder:MI,PostgrestFilterBuilder:SI,PostgrestTransformBuilder:xI,PostgrestBuilder:TI,PostgrestError:YD}=fh.default;var ph="2.11.2";var gh={"X-Client-Info":`realtime-js/${ph}`},mh="1.0.0",wo=1e4,yh=1e3,yn=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(yn||{}),se=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(se||{}),pe=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(pe||{}),Dc=function(e){return e.websocket="websocket",e}(Dc||{}),_t=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(_t||{});var bo=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let c=r.decode(t.slice(s,s+o));s=s+o;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var vn=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var k=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(k||{}),bc=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=QD(s,e,t,i),o),{})},QD=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?vh(o,s):wc(s)},vh=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return ew(t,n)}switch(e){case k.bool:return KD(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return JD(t);case k.json:case k.jsonb:return XD(t);case k.timestamp:return tw(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:return wc(t);default:return wc(t)}},wc=e=>e,KD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JD=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ew=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>vh(t,a))}return e},tw=e=>typeof e=="string"?e.replace(" ","T"):e,Co=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var _n=class{constructor(t,n,r={},i=wo){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var fr=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=o[u];if(d){let p=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=l.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>p.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),p=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ze=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(ze||{});var hr=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _n(this,pe.join,this.params,this.timeout),this.rejoinTimer=new vn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pe.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new fr(this),this.broadcastEndpointURL=Co(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(l=>t?.(ze.CHANNEL_ERROR,l)),this._onClose(()=>t?.(ze.CLOSED));let c={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:l}){var p;if(this.socket.setAuth(),l===void 0){t?.(ze.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let y=0;y<g;y++){let M=f[y],{filter:{event:V,schema:H,table:L,filter:K}}=M,$=l&&l[y];if($&&$.event===V&&$.schema===H&&$.table===L&&$.filter===K)m.push(Object.assign(Object.assign({},M),{id:$.id}));else{this.unsubscribe(),t?.(ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(ze.SUBSCRIBED);return}})).receive("error",l=>{t?.(ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{t?.(ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return h(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=l.body)===null||o===void 0?void 0:o.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new _n(this,pe.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _n(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=pe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,m,y,M,V,H;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let L=f.id,K=(g=f.filter)===null||g===void 0?void 0:g.event;return L&&((m=n.ids)===null||m===void 0?void 0:m.includes(L))&&(K==="*"||K?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let L=(V=(M=f?.filter)===null||M===void 0?void 0:M.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return L==="*"||L===((H=n?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:y,commit_timestamp:M,type:V,errors:H}=g;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:M,eventType:V,new:{},old:{},errors:H}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pe.close,{},t)}_onError(t){this._on(pe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bc(t.columns,t.old_record)),n}};var rw=()=>{},iw=typeof WebSocket<"u",ow=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,pr=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gh,this.params={},this.timeout=wo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rw,this.conn=null,this.sendBuffer=[],this.serializer=new bo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${Dc.websocket}`,this.httpEndpoint=Co(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vn(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(iw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-266KHGQI.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mh}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return _t.Connecting;case yn.open:return _t.Open;case yn.closing:return _t.Closing;default:return _t.Closed}}isConnected(){return this.connectionState()===_t.Open}channel(t,n={config:{}}){let r=new hr(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(pe.access_token,{access_token:n})})}})}sendHeartbeat(){return h(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(yh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([ow],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var Cc=class{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Dn=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function B(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Eo=class extends Dn{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Dt=class extends Dn{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var sw=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Mo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_h=()=>sw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Io=e=>{if(Array.isArray(e))return e.map(n=>Io(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Io(r)}),t};var wt=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aw=(e,t,n)=>wt(void 0,void 0,void 0,function*(){let r=yield _h();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{t(new Eo(Ec(i),e.status||500))}).catch(i=>{t(new Dt(Ec(i),i))}):t(new Dt(Ec(e),e))}),cw=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function gr(e,t,n,r,i,o){return wt(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,cw(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>aw(c,a,r))})})}function wn(e,t,n,r){return wt(this,void 0,void 0,function*(){return gr(e,"GET",t,n,r)})}function Pe(e,t,n,r,i){return wt(this,void 0,void 0,function*(){return gr(e,"POST",t,r,i,n)})}function Dh(e,t,n,r,i){return wt(this,void 0,void 0,function*(){return gr(e,"PUT",t,r,i,n)})}function wh(e,t,n,r){return wt(this,void 0,void 0,function*(){return gr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function So(e,t,n,r,i){return wt(this,void 0,void 0,function*(){return gr(e,"DELETE",t,r,i,n)})}var re=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xo=class{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Mo(i)}uploadOrUpdate(t,n,r,i){return re(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},bh),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(B(o))return{data:null,error:o};throw o}})}upload(t,n,r){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return re(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:bh.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),p=yield d.json();return d.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(B(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield Pe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Dn("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}})}update(t,n,r){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return re(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}copy(t,n,r){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Pe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Pe(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return re(this,void 0,void 0,function*(){try{let i=yield Pe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}download(t,n){return re(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield wn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(B(a))return{data:null,error:a};throw a}})}info(t){return re(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield wn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Io(r),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}})}exists(t){return re(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield wh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(B(r)&&r instanceof Dt){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return re(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}})}list(t,n,r){return re(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},uw),n),{prefix:t||""});return{data:yield Pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var Ch="2.7.1";var Eh={"X-Client-Info":`storage-js/${Ch}`};var bn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},To=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Eh),n),this.fetch=Mo(r)}listBuckets(){return bn(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(B(t))return{data:null,error:t};throw t}})}getBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return bn(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return bn(this,void 0,void 0,function*(){try{return{data:yield Dh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}})}emptyBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}})}deleteBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}})}};var mr=class extends To{constructor(t,n={},r){super(t,n,r)}from(t){return new xo(this.url,this.headers,t,this.fetch)}};var Ih="2.48.1";var yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";var lw={"X-Client-Info":`supabase-js-${yr}/${Ih}`},Mh={headers:lw},Sh={schema:"public"},xh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Th={};Fc();var dw=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},fw=e=>{let t;return e?t=e:typeof fetch>"u"?t=kc:t=fetch,(...n)=>t(...n)},hw=()=>typeof Headers>"u"?Pc:Headers,Ah=(e,t,n)=>{let r=fw(n),i=hw();return(o,s)=>dw(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,u=new i(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var pw=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function Nh(e){return e.replace(/\/$/,"")}function Oh(e,t){let{db:n,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:c,global:u}=t,l={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),o),accessToken:()=>pw(this,void 0,void 0,function*(){return""})};return e.accessToken?l.accessToken=e.accessToken:delete l.accessToken,l}var Ao="2.67.3";var Rh="http://localhost:9999",kh="supabase.auth.token";var Ph={"X-Client-Info":`gotrue-js/${Ao}`},Ic=10;var vr="X-Supabase-Api-Version",Mc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Fh(e){return Math.round(Date.now()/1e3)+e}function Lh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var be=()=>typeof window<"u"&&typeof document<"u",bt={tested:!1,writable:!1},it=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bt.tested)return bt.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bt.tested=!0,bt.writable=!0}catch{bt.tested=!0,bt.writable=!1}return bt.writable};function Vh(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var No=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sc=(e,t,n)=>h(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Dr=(e,t)=>h(void 0,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),wr=(e,t)=>h(void 0,null,function*(){yield e.removeItem(t)});function gw(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,i,o,s,a,c,u,l=0;for(e=e.replace("-","+").replace("_","/");l<e.length;)s=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),c=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),r=s<<2|a>>4,i=(a&15)<<4|c>>2,o=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}var _r=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};_r.promiseConstructor=Promise;function xc(e){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(gw(r))}function $h(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Bh(e,t){return new Promise((r,i)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function mw(e){return("0"+e.toString(16)).substr(-2)}function yw(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,mw).join("")}function vw(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function _w(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Dw(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield vw(e);return _w(n)})}function Ct(e,t,n=!1){return h(this,null,function*(){let r=yw(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Sc(e,`${t}-code-verifier`,i);let o=yield Dw(r);return[o,r===o?"plain":"s256"]})}var ww=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hh(e){let t=e.headers.get(vr);if(!t||!t.match(ww))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}var br=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Oo=class extends br{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Uh(e){return _(e)&&e.name==="AuthApiError"}var Cn=class extends br{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},qe=class extends br{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ge=class extends qe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Gh(e){return _(e)&&e.name==="AuthSessionMissingError"}var En=class extends qe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Et=class extends qe{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},It=class extends qe{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function zh(e){return _(e)&&e.name==="AuthImplicitGrantRedirectError"}var Cr=class extends qe{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},In=class extends qe{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ro(e){return _(e)&&e.name==="AuthRetryableFetchError"}var Er=class extends qe{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var bw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Mt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cw=[502,503,504];function qh(e){return h(this,null,function*(){var t;if(!jh(e))throw new In(Mt(e),0);if(Cw.includes(e.status))throw new In(Mt(e),e.status);let n;try{n=yield e.json()}catch(o){throw new Cn(Mt(o),o)}let r,i=Hh(e);if(i&&i.getTime()>=Mc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Er(Mt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ge}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Er(Mt(n),e.status,n.weak_password.reasons);throw new Oo(Mt(n),e.status||500,r)})}var Ew=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function w(e,t,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[vr]||(o[vr]=Mc["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Iw(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Iw(e,t,n,r,i,o){return h(this,null,function*(){let s=Ew(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new In(Mt(c),0)}if(a.ok||(yield qh(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield qh(c)}})}function We(e){var t;let n=null;Mw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Fh(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Tc(e){let t=We(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fe(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Wh(e){return{data:e,error:null}}function Zh(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=bw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Yh(e){return e}function Mw(e){return e.access_token&&e.refresh_token&&e.expires_in}var Sw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Mn=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=No(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,n="global"){return h(this,null,function*(){try{return yield w(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield w(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fe})}catch(i){if(_(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=Sw(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield w(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zh,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield w(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fe})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,i,o,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield w(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Yh});if(l.error)throw l.error;let d=yield l.json(),p=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}})}getUserById(t){return h(this,null,function*(){try{return yield w(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fe})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){try{return yield w(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fe})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){try{return yield w(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fe})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){try{let{data:n,error:r}=yield w(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield w(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}})}};var Qh={getItem:e=>it()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{it()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{it()&&globalThis.localStorage.removeItem(e)}};function Ac(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Kh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var St={debug:!!(globalThis&&it()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ir=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ko=class extends Ir{};function Nc(e,t,n){return h(this,null,function*(){St.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),St.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(this,null,function*(){if(i){St.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{St.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw St.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ko(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(St.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}Kh();var xw={url:Rh,storageKey:kh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ph,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Mr=30*1e3,Jh=3;function Xh(e,t,n){return h(this,null,function*(){return yield n()})}var Oc=(()=>{class e{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},xw),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Mn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=No(o.fetch),this.lock=o.lock||Xh,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:be()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Nc:this.lock=Xh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:it()?this.storage=Qh:(this.memoryStorage={},this.storage=Ac(this.memoryStorage)):(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ao}) ${new Date().toISOString()}`,...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r=Vh(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),be()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),zh(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new Cn("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield w(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:We}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Ct(this.storage,this.storageKey)),s=yield w(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:We})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield w(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:We})}else throw new Et("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield w(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Tc})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield w(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Tc})}else throw new Et("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new En}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield Dr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield w(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:We});if(yield wr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new En}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(_(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield w(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:We}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new En}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=yield Ct(this.storage,this.storageKey));let{error:p}=yield w(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=yield w(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=u?.data)!==null&&o!==void 0?o:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Et("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield w(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:We});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(o){if(_(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Ct(this.storage,this.storageKey)),yield w(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Wh})}catch(s){if(_(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new ge;let{error:o}=yield w(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield w(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield w(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Et("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:n},error:null}}let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield w(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fe}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ge}:yield w(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Fe})}))}catch(r){if(_(r))return Gh(r)&&(yield this._removeSession(),yield wr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new ge;let c=s.session,u=null,l=null;this.flowType==="pkce"&&n.email!=null&&([u,l]=yield Ct(this.storage,this.storageKey));let{data:d,error:p}=yield w(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:Fe});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(_(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(n){return xc(n)}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ge;let r=Date.now()/1e3,i=r,o=!0,s=null,a=xc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:u}=yield this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=yield this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new ge;let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!be())throw new It("No browser detected.");if(n.error||n.error_description||n.error_code)throw new It(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new It("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Cr("No code detected.");let{data:H,error:L}=yield this._exchangeCodeForSession(n.code);if(L)throw L;let K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:H.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new It("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;u&&(f=parseInt(u));let g=f-d;g*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:y,error:M}=yield this._getUser(s);if(M)throw M;let V={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:n.type},error:null}}catch(i){if(_(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Uh(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield wr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Lh(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Ct(this.storage,this.storageKey,!0));try{return yield w(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(_(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}linkIdentity(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,u,l,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return yield w(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return be()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(_(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield w(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Bh(o=>h(this,null,function*(){return o>0&&(yield $h(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield w(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:We})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Ro(s)&&Date.now()+a-i<Mr})}catch(i){if(this._debug(r,"error",i),_(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),be()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Dr(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)<o+Ic;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ic}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ro(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new _r;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ge;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),_(s)){let a={session:null,error:s};return Ro(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Sc(this.storage,this.storageKey,n)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield wr(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Jh} ticks`),o<=Jh&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Ir)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Ct(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield w(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:u,error:l}=yield w(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&(!((o=u?.totp)===null||o===void 0)&&o.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield w(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield w(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=n;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),c=null;a.aal&&(c=a.aal);let u=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}}return e.nextInstanceID=0,e})();var Tw=Oc,Rc=Tw;var Po=class extends Rc{constructor(t){super(t)}};var Aw=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Fo=class{constructor(t,n,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=Nh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Sh,realtime:Th,auth:Object.assign(Object.assign({},xh),{storageKey:c}),global:Mh},l=Oh(r??{},u);this.storageKey=(i=l.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=l.global.headers)!==null&&o!==void 0?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=Ah(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new hh(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new or(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mr(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Aw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:c},u,l){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Po({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pr(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ep=(e,t,n)=>new Fo(e,t,n);var tp=(()=>{class e{constructor(){this.retryCount=3,this.retryDelay=1e3;let n=window.env?.VITE_SUPABASE_URL,r=window.env?.VITE_SUPABASE_ANON_KEY;if(!n||!r)throw console.error("Missing Supabase environment variables"),new Error("Missing Supabase environment variables");this.supabase=ep(n,r,{auth:{persistSession:!1},db:{schema:"public"}})}retry(n){return h(this,null,function*(){let r;for(let i=0;i<this.retryCount;i++)try{return yield n()}catch(o){if(r=o,o?.isAcquireTimeout){yield new Promise(s=>setTimeout(s,this.retryDelay));continue}throw o}throw r})}checkExistingRegistration(n){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("party_registrations").select("id").eq("device_id",n).single();return i?(console.error("Error checking registration:",i),!1):!!r})}saveRegistration(n,r,i){return h(this,null,function*(){return this.retry(()=>h(this,null,function*(){try{if(yield this.checkExistingRegistration(i))throw new Error("Ya existe un registro para este dispositivo");let{data:s,error:a}=yield this.supabase.from("party_registrations").insert([{adult_count:n,device_id:i}]).select().single();if(a)throw a;if(!s)throw new Error("No registration data returned");let c=r.map(l=>({registration_id:s.id,name:l})),{error:u}=yield this.supabase.from("children").insert(c);if(u)throw u;return s}catch(o){throw console.error("Error saving registration:",o),o}}))})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ow(e,t){if(e&1){let n=Yi();Y(0,"button",6),fe("click",function(){yt(n);let i=ke().index,o=ke(2);return vt(o.removeChild(i))}),he(1," Eliminar "),z()}}function Rw(e,t){if(e&1){let n=Yi();Y(0,"div",13)(1,"input",14),Pa("ngModelChange",function(i){let o=yt(n).$implicit;return rf(o.name,i)||(o.name=i),vt(i)}),z(),un(2,Ow,2,0,"button",15),z()}if(e&2){let n=t.$implicit,r=t.index,i=ke(2);Oe(),ka("ngModel",n.name),Re("name","child"+r),Oe(),Re("ngIf",i.children().length>1)}}function kw(e,t){if(e&1&&(Y(0,"p",16),he(1),z()),e&2){let n=ke(2);Oe(),Ra(n.error())}}function Pw(e,t){if(e&1){let n=Yi();Y(0,"form",3),fe("ngSubmit",function(){yt(n);let i=ke();return vt(i.onSubmit())}),Y(1,"div",4)(2,"h3"),he(3,"Datos de los ni\xF1os"),z(),un(4,Rw,3,3,"div",5),Y(5,"button",6),fe("click",function(){yt(n);let i=ke();return vt(i.addChild())}),he(6,"Agregar otro ni\xF1o"),z()(),Y(7,"div",7)(8,"h3"),he(9,"Acompa\xF1antes adultos"),z(),Y(10,"input",8),fe("ngModelChange",function(i){yt(n);let o=ke();return vt(o.updateAdultCount(i))}),z()(),Y(11,"div",9)(12,"label")(13,"input",10),fe("ngModelChange",function(i){yt(n);let o=ke();return vt(o.updateConfirmed(i))}),z(),he(14," Confirmo mi asistencia "),z()(),un(15,kw,2,1,"p",11),Y(16,"button",12),he(17,"Guardar"),z()()}if(e&2){let n=ke();Oe(4),Re("ngForOf",n.children()),Oe(6),Re("ngModel",n.adultCount()),Oe(3),Re("ngModel",n.confirmed()),Oe(2),Re("ngIf",n.error())}}function Fw(e,t){e&1&&(Y(0,"div",17)(1,"h3"),he(2,"\xA1Ya ha realizado el registro!"),z(),Y(3,"p"),he(4,"Te esperamos a partir de las 2:30pm, gracias por confirmar."),z()())}var np=(()=>{class e{constructor(n){this.supabaseService=n,this.children=we([{name:""}]),this.adultCount=we(1),this.confirmed=we(!1),this.submitted=we(!1),this.error=we(""),this.DEVICE_ID_KEY="party_registration_device_id"}ngOnInit(){return h(this,null,function*(){let n=localStorage.getItem(this.DEVICE_ID_KEY);n?(yield this.supabaseService.checkExistingRegistration(n))&&this.submitted.set(!0):(n=crypto.randomUUID(),localStorage.setItem(this.DEVICE_ID_KEY,n))})}addChild(){this.children.update(n=>[...n,{name:""}])}removeChild(n){this.children().length>1&&this.children.update(r=>r.filter((i,o)=>o!==n))}updateAdultCount(n){this.adultCount.set(n)}updateConfirmed(n){this.confirmed.set(n)}onSubmit(){return h(this,null,function*(){if(!this.confirmed()){this.error.set("Por favor confirma tu asistencia");return}try{let n=localStorage.getItem(this.DEVICE_ID_KEY);if(!n)throw new Error("No se encontr\xF3 el ID del dispositivo");yield this.supabaseService.saveRegistration(this.adultCount(),this.children().map(r=>r.name),n),this.submitted.set(!0),this.error.set("")}catch(n){this.error.set(n.message||"Error al guardar el registro"),console.error(n)}})}static{this.\u0275fac=function(r){return new(r||e)(A(tp))}}static{this.\u0275cmp=Ni({type:e,selectors:[["app-registration-form"]],standalone:!0,features:[Qi],decls:7,vars:2,consts:[[1,"registration-container"],[3,"ngSubmit",4,"ngIf"],["class","success-message",4,"ngIf"],[3,"ngSubmit"],[1,"children-section"],["class","child-input",4,"ngFor","ngForOf"],["type","button",3,"click"],[1,"adults-section"],["type","number","name","adultCount","min","1","required","",3,"ngModelChange","ngModel"],[1,"confirmation-section"],["type","checkbox","name","confirmed",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit"],[1,"child-input"],["type","text","placeholder","Nombre del ni\xF1o/a","required","",3,"ngModelChange","ngModel","name"],["type","button",3,"click",4,"ngIf"],[1,"error"],[1,"success-message"]],template:function(r,i){r&1&&(Y(0,"div",0)(1,"h1"),he(2,"\xA1Fiesta de Cumplea\xF1os de Dani!"),z(),Y(3,"h2"),he(4,"Confirma tu asistencia"),z(),un(5,Pw,18,4,"form",1)(6,Fw,5,0,"div",2),z()),r&2&&(Oe(5),Re("ngIf",!i.submitted()),Oe(),Re("ngIf",i.submitted()))},dependencies:[$a,yf,vf,Jf,Qf,fo,oc,Ja,Uf,Gf,ac,sc,ic,rc],styles:[".registration-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:2rem;background-color:#fff5f8;border-radius:12px;box-shadow:0 4px 6px #0000001a}h1[_ngcontent-%COMP%]{color:#ff69b4;text-align:center;font-size:2.5rem;margin-bottom:1rem}h2[_ngcontent-%COMP%]{color:#ff1493;text-align:center;margin-bottom:2rem}.children-section[_ngcontent-%COMP%], .adults-section[_ngcontent-%COMP%], .confirmation-section[_ngcontent-%COMP%]{margin-bottom:2rem}h3[_ngcontent-%COMP%]{color:#ff69b4;margin-bottom:1rem}.child-input[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{padding:.5rem;border:2px solid #ffb6c1;border-radius:4px;width:100%}button[_ngcontent-%COMP%]{background-color:#ff69b4;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#ff1493}button[type=button][_ngcontent-%COMP%]{background-color:#ffb6c1}.error[_ngcontent-%COMP%]{color:red;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]{text-align:center;color:#ff69b4;padding:2rem;background-color:#fff0f5;border-radius:8px}.confirmation-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#ff69b4}"]})}}return e})();var Lw=(()=>{class e{constructor(){this.name="Fiesta de Cumplea\xF1os"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ni({type:e,selectors:[["app-root"]],standalone:!0,features:[Qi],decls:1,vars:0,template:function(r,i){r&1&&Oa(0,"app-registration-form")},dependencies:[np],encapsulation:2})}}return e})();Sf(Lw);export{Lw as App};
